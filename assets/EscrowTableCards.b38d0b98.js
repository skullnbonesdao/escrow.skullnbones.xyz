import{bZ as ce,aF as u,c0 as Je,c3 as Wt,ck as et,aC as qe,ah as r,J as B,bs as K,aS as $t,aX as tt,aR as Gt,aV as Xt,aT as gt,c6 as Yt,c7 as wt,cc as Jt,cs as Zt,ct as pt,cu as Ze,cv as kt,cw as Ye,aQ as Rt,cx as ea,cy as Ae,cq as ke,cz as ta,cA as aa,ch as la,au as De,b1 as ie,ak as Bt,al as b,a1 as O,V as W,a6 as oa,cn as bt,ai as Ve,P as j,cB as ae,cC as le,cD as oe,cE as xe,cF as Mt,cG as At,cH as Ft,co as G,cr as _t,cI as na,bx as I,as as E,cd as St,cp as xt,a0 as ra}from"./index.1127bff4.js";import{c as Lt,u as sa,a as ia,b as ca,d as ua,e as da,T as va,g as Ce,w as Vt,Q as Dt,f as fa}from"./waitForTransactionConfirmation.e489bc58.js";import{u as ht,a as yt,b as ma,c as ga,d as Et,e as ba,f as _a,g as Se,h as ha,i as ya,Q as Ge}from"./QCard.88f47b9a.js";var wa=ce({name:"QTh",props:{props:Object,autoWidth:Boolean},emits:["click"],setup(e,{slots:l,emit:i}){const n=qe(),{proxy:{$q:t}}=n,v=o=>{i("click",o)};return()=>{if(e.props===void 0)return u("th",{class:e.autoWidth===!0?"q-table--col-auto-width":"",onClick:v},Je(l.default));let o,d;const f=n.vnode.key;if(f){if(o=e.props.colsMap[f],o===void 0)return}else o=e.props.col;if(o.sortable===!0){const c=o.align==="right"?"unshift":"push";d=Wt(l.default,[]),d[c](u(et,{class:o.__iconClass,name:t.iconSet.table.arrowUp}))}else d=Je(l.default);const m={class:o.__thClass+(e.autoWidth===!0?" q-table--col-auto-width":""),style:o.headerStyle,onClick:c=>{o.sortable===!0&&e.props.sort(o),v(c)}};return u("th",m,d)}}});const pa=["horizontal","vertical","cell","none"];var ka=ce({name:"QMarkupTable",props:{...ht,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,wrapCells:Boolean,separator:{type:String,default:"horizontal",validator:e=>pa.includes(e)}},setup(e,{slots:l}){const i=qe(),n=yt(e,i.proxy.$q),t=r(()=>`q-markup-table q-table__container q-table__card q-table--${e.separator}-separator`+(n.value===!0?" q-table--dark q-table__card--dark q-dark":"")+(e.dense===!0?" q-table--dense":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")+(e.square===!0?" q-table--square":"")+(e.wrapCells===!1?" q-table--no-wrap":""));return()=>u("div",{class:t.value},[u("table",{class:"q-table"},Je(l.default))])}});function It(e,l){return u("div",e,[u("table",{class:"q-table"},l)])}const Sa={list:Lt,table:ka},xa=["list","table","__qtable"];var Ca=ce({name:"QVirtualScroll",props:{...ma,type:{type:String,default:"list",validator:e=>xa.includes(e)},items:{type:Array,default:()=>[]},itemsFn:Function,itemsSize:Number,scrollTarget:{default:void 0}},setup(e,{slots:l,attrs:i}){let n;const t=B(null),v=r(()=>e.itemsSize>=0&&e.itemsFn!==void 0?parseInt(e.itemsSize,10):Array.isArray(e.items)?e.items.length:0),{virtualScrollSliceRange:o,localResetVirtualScroll:d,padVirtualScroll:f,onVirtualScrollEvt:m}=ga({virtualScrollLength:v,getVirtualScrollTarget:y,getVirtualScrollEl:p}),c=r(()=>{if(v.value===0)return[];const L=(P,T)=>({index:o.value.from+T,item:P});return e.itemsFn===void 0?e.items.slice(o.value.from,o.value.to).map(L):e.itemsFn(o.value.from,o.value.to-o.value.from).map(L)}),_=r(()=>"q-virtual-scroll q-virtual-scroll"+(e.virtualScrollHorizontal===!0?"--horizontal":"--vertical")+(e.scrollTarget!==void 0?"":" scroll")),h=r(()=>e.scrollTarget!==void 0?{}:{tabindex:0});K(v,()=>{d()}),K(()=>e.scrollTarget,()=>{k(),w()});function p(){return t.value.$el||t.value}function y(){return n}function w(){n=Yt(p(),e.scrollTarget),n.addEventListener("scroll",m,wt.passive)}function k(){n!==void 0&&(n.removeEventListener("scroll",m,wt.passive),n=void 0)}function F(){let L=f(e.type==="list"?"div":"tbody",c.value.map(l.default));return l.before!==void 0&&(L=l.before().concat(L)),Jt(l.after,L)}return $t(()=>{d()}),tt(()=>{w()}),Gt(()=>{w()}),Xt(()=>{k()}),gt(()=>{k()}),()=>{if(l.default===void 0){console.error("QVirtualScroll: default scoped slot is required for rendering");return}return e.type==="__qtable"?It({ref:t,class:"q-table__middle "+_.value},F()):u(Sa[e.type],{...i,ref:t,class:[i.class,_.value],...h.value},F)}}});const qa=u("div",{key:"svg",class:"q-checkbox__bg absolute"},[u("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24"},[u("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),u("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]);var mt=ce({name:"QCheckbox",props:sa,emits:ia,setup(e){function l(i,n){const t=r(()=>(i.value===!0?e.checkedIcon:n.value===!0?e.indeterminateIcon:e.uncheckedIcon)||null);return()=>t.value!==null?[u("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[u(et,{class:"q-checkbox__icon",name:t.value})])]:[qa]}return ca("checkbox",l)}});let Fe=0;const Pa={fullscreen:Boolean,noRouteFullscreenExit:Boolean},Ta=["update:fullscreen","fullscreen"];function $a(){const e=qe(),{props:l,emit:i,proxy:n}=e;let t,v,o;const d=B(!1);Zt(e)===!0&&K(()=>n.$route.fullPath,()=>{l.noRouteFullscreenExit!==!0&&c()}),K(()=>l.fullscreen,_=>{d.value!==_&&f()}),K(d,_=>{i("update:fullscreen",_),i("fullscreen",_)});function f(){d.value===!0?c():m()}function m(){d.value!==!0&&(d.value=!0,o=n.$el.parentNode,o.replaceChild(v,n.$el),document.body.appendChild(n.$el),Fe++,Fe===1&&document.body.classList.add("q-body--fullscreen-mixin"),t={handler:c},pt.add(t))}function c(){d.value===!0&&(t!==void 0&&(pt.remove(t),t=void 0),o.replaceChild(n.$el,v),d.value=!1,Fe=Math.max(0,Fe-1),Fe===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),n.$el.scrollIntoView!==void 0&&setTimeout(()=>{n.$el.scrollIntoView()})))}return $t(()=>{v=document.createElement("span")}),tt(()=>{l.fullscreen===!0&&m()}),gt(c),Object.assign(n,{toggleFullscreen:f,setFullscreen:m,exitFullscreen:c}),{inFullscreen:d,toggleFullscreen:f}}function Ra(e,l){return new Date(e)-new Date(l)}const Ba={sortMethod:Function,binaryStateSort:Boolean,columnSortOrder:{type:String,validator:e=>e==="ad"||e==="da",default:"ad"}};function Ma(e,l,i,n){const t=r(()=>{const{sortBy:d}=l.value;return d&&i.value.find(f=>f.name===d)||null}),v=r(()=>e.sortMethod!==void 0?e.sortMethod:(d,f,m)=>{const c=i.value.find(p=>p.name===f);if(c===void 0||c.field===void 0)return d;const _=m===!0?-1:1,h=typeof c.field=="function"?p=>c.field(p):p=>p[c.field];return d.sort((p,y)=>{let w=h(p),k=h(y);return c.rawSort!==void 0?c.rawSort(w,k,p,y)*_:w==null?-1*_:k==null?1*_:c.sort!==void 0?c.sort(w,k,p,y)*_:Ze(w)===!0&&Ze(k)===!0?(w-k)*_:kt(w)===!0&&kt(k)===!0?Ra(w,k)*_:typeof w=="boolean"&&typeof k=="boolean"?(w-k)*_:([w,k]=[w,k].map(F=>(F+"").toLocaleString().toLowerCase()),w<k?-1*_:w===k?0:_)})});function o(d){let f=e.columnSortOrder;if(Ye(d)===!0)d.sortOrder&&(f=d.sortOrder),d=d.name;else{const _=i.value.find(h=>h.name===d);_!==void 0&&_.sortOrder&&(f=_.sortOrder)}let{sortBy:m,descending:c}=l.value;m!==d?(m=d,c=f==="da"):e.binaryStateSort===!0?c=!c:c===!0?f==="ad"?m=null:c=!1:f==="ad"?c=!0:m=null,n({sortBy:m,descending:c,page:1})}return{columnToSort:t,computedSortMethod:v,sort:o}}const Aa={filter:[String,Object],filterMethod:Function};function Fa(e,l){const i=r(()=>e.filterMethod!==void 0?e.filterMethod:(n,t,v,o)=>{const d=t?t.toLowerCase():"";return n.filter(f=>v.some(m=>{const c=o(m,f)+"";return(c==="undefined"||c==="null"?"":c.toLowerCase()).indexOf(d)!==-1}))});return K(()=>e.filter,()=>{Rt(()=>{l({page:1},!0)})},{deep:!0}),{computedFilterMethod:i}}function La(e,l){for(const i in l)if(l[i]!==e[i])return!1;return!0}function Ct(e){return e.page<1&&(e.page=1),e.rowsPerPage!==void 0&&e.rowsPerPage<1&&(e.rowsPerPage=0),e}const Va={pagination:Object,rowsPerPageOptions:{type:Array,default:()=>[5,7,10,15,20,25,50,0]},"onUpdate:pagination":[Function,Array]};function Da(e,l){const{props:i,emit:n}=e,t=B(Object.assign({sortBy:null,descending:!1,page:1,rowsPerPage:i.rowsPerPageOptions.length!==0?i.rowsPerPageOptions[0]:5},i.pagination)),v=r(()=>{const c=i["onUpdate:pagination"]!==void 0?{...t.value,...i.pagination}:t.value;return Ct(c)}),o=r(()=>v.value.rowsNumber!==void 0);function d(c){f({pagination:c,filter:i.filter})}function f(c={}){Rt(()=>{n("request",{pagination:c.pagination||v.value,filter:c.filter||i.filter,getCellValue:l})})}function m(c,_){const h=Ct({...v.value,...c});if(La(v.value,h)===!0){o.value===!0&&_===!0&&d(h);return}if(o.value===!0){d(h);return}i.pagination!==void 0&&i["onUpdate:pagination"]!==void 0?n("update:pagination",h):t.value=h}return{innerPagination:t,computedPagination:v,isServerSide:o,requestServerInteraction:f,setPagination:m}}function Ea(e,l,i,n,t,v){const{props:o,emit:d,proxy:{$q:f}}=e,m=r(()=>n.value===!0?i.value.rowsNumber||0:v.value),c=r(()=>{const{page:T,rowsPerPage:M}=i.value;return(T-1)*M}),_=r(()=>{const{page:T,rowsPerPage:M}=i.value;return T*M}),h=r(()=>i.value.page===1),p=r(()=>i.value.rowsPerPage===0?1:Math.max(1,Math.ceil(m.value/i.value.rowsPerPage))),y=r(()=>_.value===0?!0:i.value.page>=p.value),w=r(()=>(o.rowsPerPageOptions.includes(l.value.rowsPerPage)?o.rowsPerPageOptions:[l.value.rowsPerPage].concat(o.rowsPerPageOptions)).map(M=>({label:M===0?f.lang.table.allRows:""+M,value:M})));K(p,(T,M)=>{if(T===M)return;const ue=i.value.page;T&&!ue?t({page:1}):T<ue&&t({page:T})});function k(){t({page:1})}function F(){const{page:T}=i.value;T>1&&t({page:T-1})}function L(){const{page:T,rowsPerPage:M}=i.value;_.value>0&&T*M<m.value&&t({page:T+1})}function P(){t({page:p.value})}return o["onUpdate:pagination"]!==void 0&&d("update:pagination",{...i.value}),{firstRowIndex:c,lastRowIndex:_,isFirstPage:h,isLastPage:y,pagesNumber:p,computedRowsPerPageOptions:w,computedRowsNumber:m,firstPage:k,prevPage:F,nextPage:L,lastPage:P}}const Ia={selection:{type:String,default:"none",validator:e=>["single","multiple","none"].includes(e)},selected:{type:Array,default:()=>[]}},Oa=["update:selected","selection"];function Na(e,l,i,n){const t=r(()=>{const y={};return e.selected.map(n.value).forEach(w=>{y[w]=!0}),y}),v=r(()=>e.selection!=="none"),o=r(()=>e.selection==="single"),d=r(()=>e.selection==="multiple"),f=r(()=>i.value.length!==0&&i.value.every(y=>t.value[n.value(y)]===!0)),m=r(()=>f.value!==!0&&i.value.some(y=>t.value[n.value(y)]===!0)),c=r(()=>e.selected.length);function _(y){return t.value[y]===!0}function h(){l("update:selected",[])}function p(y,w,k,F){l("selection",{rows:w,added:k,keys:y,evt:F});const L=o.value===!0?k===!0?w:[]:k===!0?e.selected.concat(w):e.selected.filter(P=>y.includes(n.value(P))===!1);l("update:selected",L)}return{hasSelectionMode:v,singleSelection:o,multipleSelection:d,allRowsSelected:f,someRowsSelected:m,rowsSelectedNumber:c,isRowSelected:_,clearSelection:h,updateSelection:p}}function qt(e){return Array.isArray(e)?e.slice():[]}const za={expanded:Array},ja=["update:expanded"];function Qa(e,l){const i=B(qt(e.expanded));K(()=>e.expanded,o=>{i.value=qt(o)});function n(o){return i.value.includes(o)}function t(o){e.expanded!==void 0?l("update:expanded",o):i.value=o}function v(o,d){const f=i.value.slice(),m=f.indexOf(o);d===!0?m===-1&&(f.push(o),t(f)):m!==-1&&(f.splice(m,1),t(f))}return{isRowExpanded:n,setExpanded:t,updateExpanded:v}}const Ua={visibleColumns:Array};function Ha(e,l,i){const n=r(()=>{if(e.columns!==void 0)return e.columns;const d=e.rows[0];return d!==void 0?Object.keys(d).map(f=>({name:f,label:f.toUpperCase(),field:f,align:Ze(d[f])?"right":"left",sortable:!0})):[]}),t=r(()=>{const{sortBy:d,descending:f}=l.value;return(e.visibleColumns!==void 0?n.value.filter(c=>c.required===!0||e.visibleColumns.includes(c.name)===!0):n.value).map(c=>{const _=c.align||"right",h=`text-${_}`;return{...c,align:_,__iconClass:`q-table__sort-icon q-table__sort-icon--${_}`,__thClass:h+(c.headerClasses!==void 0?" "+c.headerClasses:"")+(c.sortable===!0?" sortable":"")+(c.name===d?` sorted ${f===!0?"sort-desc":""}`:""),__tdStyle:c.style!==void 0?typeof c.style!="function"?()=>c.style:c.style:()=>null,__tdClass:c.classes!==void 0?typeof c.classes!="function"?()=>h+" "+c.classes:p=>h+" "+c.classes(p):()=>h}})}),v=r(()=>{const d={};return t.value.forEach(f=>{d[f.name]=f}),d}),o=r(()=>e.tableColspan!==void 0?e.tableColspan:t.value.length+(i.value===!0?1:0));return{colList:n,computedCols:t,computedColsMap:v,computedColspan:o}}const Xe="q-table__bottom row items-center",Ot={};Et.forEach(e=>{Ot[e]={}});var Ka=ce({name:"QTable",props:{rows:{type:Array,default:()=>[]},rowKey:{type:[String,Function],default:"id"},columns:Array,loading:Boolean,iconFirstPage:String,iconPrevPage:String,iconNextPage:String,iconLastPage:String,title:String,hideHeader:Boolean,grid:Boolean,gridHeader:Boolean,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,separator:{type:String,default:"horizontal",validator:e=>["horizontal","vertical","cell","none"].includes(e)},wrapCells:Boolean,virtualScroll:Boolean,virtualScrollTarget:{default:void 0},...Ot,noDataLabel:String,noResultsLabel:String,loadingLabel:String,selectedRowsLabel:Function,rowsPerPageLabel:String,paginationLabel:Function,color:{type:String,default:"grey-8"},titleClass:[String,Array,Object],tableStyle:[String,Array,Object],tableClass:[String,Array,Object],tableHeaderStyle:[String,Array,Object],tableHeaderClass:[String,Array,Object],cardContainerClass:[String,Array,Object],cardContainerStyle:[String,Array,Object],cardStyle:[String,Array,Object],cardClass:[String,Array,Object],hideBottom:Boolean,hideSelectedBanner:Boolean,hideNoData:Boolean,hidePagination:Boolean,onRowClick:Function,onRowDblclick:Function,onRowContextmenu:Function,...ht,...Pa,...Ua,...Aa,...Va,...za,...Ia,...Ba},emits:["request","virtualScroll",...Ta,...ja,...Oa],setup(e,{slots:l,emit:i}){const n=qe(),{proxy:{$q:t}}=n,v=yt(e,t),{inFullscreen:o,toggleFullscreen:d}=$a(),f=r(()=>typeof e.rowKey=="function"?e.rowKey:a=>a[e.rowKey]),m=B(null),c=B(null),_=r(()=>e.grid!==!0&&e.virtualScroll===!0),h=r(()=>" q-table__card"+(v.value===!0?" q-table__card--dark q-dark":"")+(e.square===!0?" q-table--square":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")),p=r(()=>`q-table__container q-table--${e.separator}-separator column no-wrap`+(e.grid===!0?" q-table--grid":h.value)+(v.value===!0?" q-table--dark":"")+(e.dense===!0?" q-table--dense":"")+(e.wrapCells===!1?" q-table--no-wrap":"")+(o.value===!0?" fullscreen scroll":"")),y=r(()=>p.value+(e.loading===!0?" q-table--loading":""));K(()=>e.tableStyle+e.tableClass+e.tableHeaderStyle+e.tableHeaderClass+p.value,()=>{_.value===!0&&c.value!==null&&c.value.reset()});const{innerPagination:w,computedPagination:k,isServerSide:F,requestServerInteraction:L,setPagination:P}=Da(n,Z),{computedFilterMethod:T}=Fa(e,P),{isRowExpanded:M,setExpanded:ue,updateExpanded:de}=Qa(e,i),ve=r(()=>{let a=e.rows;if(F.value===!0||a.length===0)return a;const{sortBy:g,descending:S}=k.value;return e.filter&&(a=T.value(a,e.filter,U.value,Z)),lt.value!==null&&(a=ot.value(e.rows===a?a.slice():a,g,S)),a}),ne=r(()=>ve.value.length),z=r(()=>{let a=ve.value;if(F.value===!0)return a;const{rowsPerPage:g}=k.value;return g!==0&&(me.value===0&&e.rows!==a?a.length>ge.value&&(a=a.slice(0,ge.value)):a=a.slice(me.value,ge.value)),a}),{hasSelectionMode:Q,singleSelection:Ee,multipleSelection:Ie,allRowsSelected:Oe,someRowsSelected:Ne,rowsSelectedNumber:Pe,isRowSelected:Y,clearSelection:ze,updateSelection:fe}=Na(e,i,z,f),{colList:at,computedCols:U,computedColsMap:je,computedColspan:Qe}=Ha(e,k,Q),{columnToSort:lt,computedSortMethod:ot,sort:Te}=Ma(e,k,at,P),{firstRowIndex:me,lastRowIndex:ge,isFirstPage:be,isLastPage:$e,pagesNumber:J,computedRowsPerPageOptions:nt,computedRowsNumber:re,firstPage:_e,prevPage:he,nextPage:se,lastPage:ye}=Ea(n,w,k,F,P,ne),rt=r(()=>z.value.length===0),st=r(()=>{const a={};return Et.forEach(g=>{a[g]=e[g]}),a.virtualScrollItemSize===void 0&&(a.virtualScrollItemSize=e.dense===!0?28:48),a});function Ue(){_.value===!0&&c.value.reset()}function it(){if(e.grid===!0)return Ht();const a=e.hideHeader!==!0?$:null;if(_.value===!0){const S=l["top-row"],C=l["bottom-row"],q={default:V=>Re(V.item,l.body,V.index)};if(S!==void 0){const V=u("tbody",S({cols:U.value}));q.before=a===null?()=>V:()=>[a()].concat(V)}else a!==null&&(q.before=a);return C!==void 0&&(q.after=()=>u("tbody",C({cols:U.value}))),u(Ca,{ref:c,class:e.tableClass,style:e.tableStyle,...st.value,scrollTarget:e.virtualScrollTarget,items:z.value,type:"__qtable",tableColspan:Qe.value,onVirtualScroll:ut},q)}const g=[dt()];return a!==null&&g.unshift(a()),It({class:["q-table__middle scroll",e.tableClass],style:e.tableStyle},g)}function ct(a,g){if(c.value!==null){c.value.scrollTo(a,g);return}a=parseInt(a,10);const S=m.value.querySelector(`tbody tr:nth-of-type(${a+1})`);if(S!==null){const C=m.value.querySelector(".q-table__middle.scroll"),q=S.offsetTop-e.virtualScrollStickySizeStart,V=q<C.scrollTop?"decrease":"increase";C.scrollTop=q,i("virtualScroll",{index:a,from:0,to:w.value.rowsPerPage-1,direction:V})}}function ut(a){i("virtualScroll",a)}function He(){return[u(da,{class:"q-table__linear-progress",color:e.color,dark:v.value,indeterminate:!0,trackColor:"transparent"})]}function Re(a,g,S){const C=f.value(a),q=Y(C);if(g!==void 0)return g(we({key:C,row:a,pageIndex:S,__trClass:q?"selected":""}));const V=l["body-cell"],A=U.value.map(N=>{const Ke=l[`body-cell-${N.name}`],We=Ke!==void 0?Ke:V;return We!==void 0?We(vt({key:C,row:a,pageIndex:S,col:N})):u("td",{class:N.__tdClass(a),style:N.__tdStyle(a)},Z(N,a))});if(Q.value===!0){const N=l["body-selection"],Ke=N!==void 0?N(ft({key:C,row:a,pageIndex:S})):[u(mt,{modelValue:q,color:e.color,dark:v.value,dense:e.dense,"onUpdate:modelValue":(We,Kt)=>{fe([C],[a],We,Kt)}})];A.unshift(u("td",{class:"q-table--col-auto-width"},Ke))}const X={key:C,class:{selected:q}};return e.onRowClick!==void 0&&(X.class["cursor-pointer"]=!0,X.onClick=N=>{i("RowClick",N,a,S)}),e.onRowDblclick!==void 0&&(X.class["cursor-pointer"]=!0,X.onDblclick=N=>{i("RowDblclick",N,a,S)}),e.onRowContextmenu!==void 0&&(X.class["cursor-pointer"]=!0,X.onContextmenu=N=>{i("RowContextmenu",N,a,S)}),u("tr",X,A)}function dt(){const a=l.body,g=l["top-row"],S=l["bottom-row"];let C=z.value.map((q,V)=>Re(q,a,V));return g!==void 0&&(C=g({cols:U.value}).concat(C)),S!==void 0&&(C=C.concat(S({cols:U.value}))),u("tbody",C)}function we(a){return Be(a),a.cols=a.cols.map(g=>Ae({...g},"value",()=>Z(g,a.row))),a}function vt(a){return Be(a),Ae(a,"value",()=>Z(a.col,a.row)),a}function ft(a){return Be(a),a}function Be(a){Object.assign(a,{cols:U.value,colsMap:je.value,sort:Te,rowIndex:me.value+a.pageIndex,color:e.color,dark:v.value,dense:e.dense}),Q.value===!0&&Ae(a,"selected",()=>Y(a.key),(g,S)=>{fe([a.key],[a.row],g,S)}),Ae(a,"expand",()=>M(a.key),g=>{de(a.key,g)})}function Z(a,g){const S=typeof a.field=="function"?a.field(g):g[a.field];return a.format!==void 0?a.format(S,g):S}const ee=r(()=>({pagination:k.value,pagesNumber:J.value,isFirstPage:be.value,isLastPage:$e.value,firstPage:_e,prevPage:he,nextPage:se,lastPage:ye,inFullscreen:o.value,toggleFullscreen:d}));function s(){const a=l.top,g=l["top-left"],S=l["top-right"],C=l["top-selection"],q=Q.value===!0&&C!==void 0&&Pe.value>0,V="q-table__top relative-position row items-center";if(a!==void 0)return u("div",{class:V},[a(ee.value)]);let A;if(q===!0?A=C(ee.value).slice():(A=[],g!==void 0?A.push(u("div",{class:"q-table__control"},[g(ee.value)])):e.title&&A.push(u("div",{class:"q-table__control"},[u("div",{class:["q-table__title",e.titleClass]},e.title)]))),S!==void 0&&(A.push(u("div",{class:"q-table__separator col"})),A.push(u("div",{class:"q-table__control"},[S(ee.value)]))),A.length!==0)return u("div",{class:V},A)}const x=r(()=>Ne.value===!0?null:Oe.value);function $(){const a=R();return e.loading===!0&&l.loading===void 0&&a.push(u("tr",{class:"q-table__progress"},[u("th",{class:"relative-position",colspan:Qe.value},He())])),u("thead",a)}function R(){const a=l.header,g=l["header-cell"];if(a!==void 0)return a(D({header:!0})).slice();const S=U.value.map(C=>{const q=l[`header-cell-${C.name}`],V=q!==void 0?q:g,A=D({col:C});return V!==void 0?V(A):u(wa,{key:C.name,props:A},()=>C.label)});if(Ee.value===!0&&e.grid!==!0)S.unshift(u("th",{class:"q-table--col-auto-width"}," "));else if(Ie.value===!0){const C=l["header-selection"],q=C!==void 0?C(D({})):[u(mt,{color:e.color,modelValue:x.value,dark:v.value,dense:e.dense,"onUpdate:modelValue":H})];S.unshift(u("th",{class:"q-table--col-auto-width"},q))}return[u("tr",{class:e.tableHeaderClass,style:e.tableHeaderStyle},S)]}function D(a){return Object.assign(a,{cols:U.value,sort:Te,colsMap:je.value,color:e.color,dark:v.value,dense:e.dense}),Ie.value===!0&&Ae(a,"selected",()=>x.value,H),a}function H(a){Ne.value===!0&&(a=!1),fe(z.value.map(f.value),z.value,a)}const te=r(()=>{const a=[e.iconFirstPage||t.iconSet.table.firstPage,e.iconPrevPage||t.iconSet.table.prevPage,e.iconNextPage||t.iconSet.table.nextPage,e.iconLastPage||t.iconSet.table.lastPage];return t.lang.rtl===!0?a.reverse():a});function Me(){if(e.hideBottom===!0)return;if(rt.value===!0){if(e.hideNoData===!0)return;const S=e.loading===!0?e.loadingLabel||t.lang.table.loading:e.filter?e.noResultsLabel||t.lang.table.noResults:e.noDataLabel||t.lang.table.noData,C=l["no-data"],q=C!==void 0?[C({message:S,icon:t.iconSet.table.warning,filter:e.filter})]:[u(et,{class:"q-table__bottom-nodata-icon",name:t.iconSet.table.warning}),S];return u("div",{class:Xe+" q-table__bottom--nodata"},q)}const a=l.bottom;if(a!==void 0)return u("div",{class:Xe},[a(ee.value)]);const g=e.hideSelectedBanner!==!0&&Q.value===!0&&Pe.value>0?[u("div",{class:"q-table__control"},[u("div",[(e.selectedRowsLabel||t.lang.table.selectedRecords)(Pe.value)])])]:[];if(e.hidePagination!==!0)return u("div",{class:Xe+" justify-end"},Qt(g));if(g.length!==0)return u("div",{class:Xe},g)}function jt(a){P({page:1,rowsPerPage:a.value})}function Qt(a){let g;const{rowsPerPage:S}=k.value,C=e.paginationLabel||t.lang.table.pagination,q=l.pagination,V=e.rowsPerPageOptions.length>1;if(a.push(u("div",{class:"q-table__separator col"})),V===!0&&a.push(u("div",{class:"q-table__control"},[u("span",{class:"q-table__bottom-item"},[e.rowsPerPageLabel||t.lang.table.recordsPerPage]),u(ba,{class:"q-table__select inline q-table__bottom-item",color:e.color,modelValue:S,options:nt.value,displayValue:S===0?t.lang.table.allRows:S,dark:v.value,borderless:!0,dense:!0,optionsDense:!0,optionsCover:!0,"onUpdate:modelValue":jt})])),q!==void 0)g=q(ee.value);else if(g=[u("span",S!==0?{class:"q-table__bottom-item"}:{},[S?C(me.value+1,Math.min(ge.value,re.value),re.value):C(1,ne.value,re.value)])],S!==0&&J.value>1){const A={color:e.color,round:!0,dense:!0,flat:!0};e.dense===!0&&(A.size="sm"),J.value>2&&g.push(u(ke,{key:"pgFirst",...A,icon:te.value[0],disable:be.value,onClick:_e})),g.push(u(ke,{key:"pgPrev",...A,icon:te.value[1],disable:be.value,onClick:he}),u(ke,{key:"pgNext",...A,icon:te.value[2],disable:$e.value,onClick:se})),J.value>2&&g.push(u(ke,{key:"pgLast",...A,icon:te.value[3],disable:$e.value,onClick:ye}))}return a.push(u("div",{class:"q-table__control"},g)),a}function Ut(){const a=e.gridHeader===!0?[u("table",{class:"q-table"},[$()])]:e.loading===!0&&l.loading===void 0?He():void 0;return u("div",{class:"q-table__middle"},a)}function Ht(){const a=l.item!==void 0?l.item:g=>{const S=g.cols.map(q=>u("div",{class:"q-table__grid-item-row"},[u("div",{class:"q-table__grid-item-title"},[q.label]),u("div",{class:"q-table__grid-item-value"},[q.value])]));if(Q.value===!0){const q=l["body-selection"],V=q!==void 0?q(g):[u(mt,{modelValue:g.selected,color:e.color,dark:v.value,dense:e.dense,"onUpdate:modelValue":(A,X)=>{fe([g.key],[g.row],A,X)}})];S.unshift(u("div",{class:"q-table__grid-item-row"},V),u(ua,{dark:v.value}))}const C={class:["q-table__grid-item-card"+h.value,e.cardClass],style:e.cardStyle};return(e.onRowClick!==void 0||e.onRowDblclick!==void 0)&&(C.class[0]+=" cursor-pointer",e.onRowClick!==void 0&&(C.onClick=q=>{i("RowClick",q,g.row,g.pageIndex)}),e.onRowDblclick!==void 0&&(C.onDblclick=q=>{i("RowDblclick",q,g.row,g.pageIndex)})),u("div",{class:"q-table__grid-item col-xs-12 col-sm-6 col-md-4 col-lg-3"+(g.selected===!0?" q-table__grid-item--selected":"")},[u("div",C,S)])};return u("div",{class:["q-table__grid-content row",e.cardContainerClass],style:e.cardContainerStyle},z.value.map((g,S)=>a(we({key:f.value(g),row:g,pageIndex:S}))))}return Object.assign(n.proxy,{requestServerInteraction:L,setPagination:P,firstPage:_e,prevPage:he,nextPage:se,lastPage:ye,isRowSelected:Y,clearSelection:ze,isRowExpanded:M,setExpanded:ue,sort:Te,resetVirtualScroll:Ue,scrollTo:ct,getCellValue:Z}),ea(n.proxy,{filteredSortedRows:()=>ve.value,computedRows:()=>z.value,computedRowsNumber:()=>re.value}),()=>{const a=[s()],g={ref:m,class:y.value};return e.grid===!0?a.push(Ut()):Object.assign(g,{class:[g.class,e.cardClass],style:e.cardStyle}),a.push(it(),Me()),e.loading===!0&&l.loading!==void 0&&a.push(l.loading()),u("div",g,a)}}}),pe=ce({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:l}){const i=r(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>u(e.tag,{class:i.value},Je(l.default))}});const Pt="q-slider__marker-labels",Wa=e=>({value:e}),Ga=({marker:e})=>u("div",{key:e.value,style:e.style,class:e.classes},e.label),Nt=[34,37,40,33,39,38],Xa={...ht,..._a,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:e=>e>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,hideSelection:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},Ya=["pan","update:modelValue","change"];function Ja({updateValue:e,updatePosition:l,getDragging:i,formAttrs:n}){const{props:t,emit:v,slots:o,proxy:{$q:d}}=qe(),f=yt(t,d),m=ha(n),c=B(!1),_=B(!1),h=B(!1),p=B(!1),y=r(()=>t.vertical===!0?"--v":"--h"),w=r(()=>"-"+(t.switchLabelSide===!0?"switched":"standard")),k=r(()=>t.vertical===!0?t.reverse===!0:t.reverse!==(d.lang.rtl===!0)),F=r(()=>isNaN(t.innerMin)===!0||t.innerMin<t.min?t.min:t.innerMin),L=r(()=>isNaN(t.innerMax)===!0||t.innerMax>t.max?t.max:t.innerMax),P=r(()=>t.disable!==!0&&t.readonly!==!0&&F.value<L.value),T=r(()=>(String(t.step).trim().split(".")[1]||"").length),M=r(()=>t.step===0?1:t.step),ue=r(()=>P.value===!0?t.tabindex||0:-1),de=r(()=>t.max-t.min),ve=r(()=>L.value-F.value),ne=r(()=>J(F.value)),z=r(()=>J(L.value)),Q=r(()=>t.vertical===!0?k.value===!0?"bottom":"top":k.value===!0?"right":"left"),Ee=r(()=>t.vertical===!0?"height":"width"),Ie=r(()=>t.vertical===!0?"width":"height"),Oe=r(()=>t.vertical===!0?"vertical":"horizontal"),Ne=r(()=>{const s={role:"slider","aria-valuemin":F.value,"aria-valuemax":L.value,"aria-orientation":Oe.value,"data-step":t.step};return t.disable===!0?s["aria-disabled"]="true":t.readonly===!0&&(s["aria-readonly"]="true"),s}),Pe=r(()=>`q-slider q-slider${y.value} q-slider--${c.value===!0?"":"in"}active inline no-wrap `+(t.vertical===!0?"row":"column")+(t.disable===!0?" disabled":" q-slider--enabled"+(P.value===!0?" q-slider--editable":""))+(h.value==="both"?" q-slider--focus":"")+(t.label||t.labelAlways===!0?" q-slider--label":"")+(t.labelAlways===!0?" q-slider--label-always":"")+(f.value===!0?" q-slider--dark":"")+(t.dense===!0?" q-slider--dense q-slider--dense"+y.value:""));function Y(s){const x="q-slider__"+s;return`${x} ${x}${y.value} ${x}${y.value}${w.value}`}function ze(s){const x="q-slider__"+s;return`${x} ${x}${y.value}`}const fe=r(()=>{const s=t.selectionColor||t.color;return"q-slider__selection absolute"+(s!==void 0?` text-${s}`:"")}),at=r(()=>ze("markers")+" absolute overflow-hidden"),U=r(()=>ze("track-container")),je=r(()=>Y("pin")),Qe=r(()=>Y("label")),lt=r(()=>Y("text-container")),ot=r(()=>Y("marker-labels-container")+(t.markerLabelsClass!==void 0?` ${t.markerLabelsClass}`:"")),Te=r(()=>"q-slider__track relative-position no-outline"+(t.trackColor!==void 0?` bg-${t.trackColor}`:"")),me=r(()=>{const s={[Ie.value]:t.trackSize};return t.trackImg!==void 0&&(s.backgroundImage=`url(${t.trackImg}) !important`),s}),ge=r(()=>"q-slider__inner absolute"+(t.innerTrackColor!==void 0?` bg-${t.innerTrackColor}`:"")),be=r(()=>{const s=z.value-ne.value,x={[Q.value]:`${100*ne.value}%`,[Ee.value]:s===0?"2px":`${100*s}%`};return t.innerTrackImg!==void 0&&(x.backgroundImage=`url(${t.innerTrackImg}) !important`),x});function $e(s){const{min:x,max:$,step:R}=t;let D=x+s*($-x);if(R>0){const H=(D-x)%R;D+=(Math.abs(H)>=R/2?(H<0?-1:1)*R:0)-H}return T.value>0&&(D=parseFloat(D.toFixed(T.value))),Se(D,F.value,L.value)}function J(s){return de.value===0?0:(s-t.min)/de.value}function nt(s,x){const $=ta(s),R=t.vertical===!0?Se(($.top-x.top)/x.height,0,1):Se(($.left-x.left)/x.width,0,1);return Se(k.value===!0?1-R:R,ne.value,z.value)}const re=r(()=>Ze(t.markers)===!0?t.markers:M.value),_e=r(()=>{const s=[],x=re.value,$=t.max;let R=t.min;do s.push(R),R+=x;while(R<$);return s.push($),s}),he=r(()=>{const s=` ${Pt}${y.value}-`;return Pt+`${s}${t.switchMarkerLabelsSide===!0?"switched":"standard"}${s}${k.value===!0?"rtl":"ltr"}`}),se=r(()=>t.markerLabels===!1?null:st(t.markerLabels).map((s,x)=>({index:x,value:s.value,label:s.label||s.value,classes:he.value+(s.classes!==void 0?" "+s.classes:""),style:{...Ue(s.value),...s.style||{}}}))),ye=r(()=>({markerList:se.value,markerMap:it.value,classes:he.value,getStyle:Ue})),rt=r(()=>{const s=ve.value===0?"2px":100*re.value/ve.value;return{...be.value,backgroundSize:t.vertical===!0?`2px ${s}%`:`${s}% 2px`}});function st(s){if(s===!1)return null;if(s===!0)return _e.value.map(Wa);if(typeof s=="function")return _e.value.map($=>{const R=s($);return Ye(R)===!0?{...R,value:$}:{value:$,label:R}});const x=({value:$})=>$>=t.min&&$<=t.max;return Array.isArray(s)===!0?s.map($=>Ye($)===!0?$:{value:$}).filter(x):Object.keys(s).map($=>{const R=s[$],D=Number($);return Ye(R)===!0?{...R,value:D}:{value:D,label:R}}).filter(x)}function Ue(s){return{[Q.value]:`${100*(s-t.min)/de.value}%`}}const it=r(()=>{if(t.markerLabels===!1)return null;const s={};return se.value.forEach(x=>{s[x.value]=x}),s});function ct(){if(o["marker-label-group"]!==void 0)return o["marker-label-group"](ye.value);const s=o["marker-label"]||Ga;return se.value.map(x=>s({marker:x,...ye.value}))}const ut=r(()=>[[va,He,void 0,{[Oe.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function He(s){s.isFinal===!0?(p.value!==void 0&&(l(s.evt),s.touch===!0&&e(!0),p.value=void 0,v("pan","end")),c.value=!1,h.value=!1):s.isFirst===!0?(p.value=i(s.evt),l(s.evt),e(),c.value=!0,v("pan","start")):(l(s.evt),e())}function Re(){h.value=!1}function dt(s){l(s,i(s)),e(),_.value=!0,c.value=!0,document.addEventListener("mouseup",we,!0)}function we(){_.value=!1,c.value=!1,e(!0),Re(),document.removeEventListener("mouseup",we,!0)}function vt(s){l(s,i(s)),e(!0)}function ft(s){Nt.includes(s.keyCode)&&e(!0)}function Be(s){if(t.vertical===!0)return null;const x=d.lang.rtl!==t.reverse?1-s:s;return{transform:`translateX(calc(${2*x-1} * ${t.thumbSize} / 2 + ${50-100*x}%))`}}function Z(s){const x=r(()=>_.value===!1&&(h.value===s.focusValue||h.value==="both")?" q-slider--focus":""),$=r(()=>`q-slider__thumb q-slider__thumb${y.value} q-slider__thumb${y.value}-${k.value===!0?"rtl":"ltr"} absolute non-selectable`+x.value+(s.thumbColor.value!==void 0?` text-${s.thumbColor.value}`:"")),R=r(()=>({width:t.thumbSize,height:t.thumbSize,[Q.value]:`${100*s.ratio.value}%`,zIndex:h.value===s.focusValue?2:void 0})),D=r(()=>s.labelColor.value!==void 0?` text-${s.labelColor.value}`:""),H=r(()=>Be(s.ratio.value)),te=r(()=>"q-slider__text"+(s.labelTextColor.value!==void 0?` text-${s.labelTextColor.value}`:""));return()=>{const Me=[u("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[u("path",{d:t.thumbPath})]),u("div",{class:"q-slider__focus-ring fit"})];return(t.label===!0||t.labelAlways===!0)&&(Me.push(u("div",{class:je.value+" absolute fit no-pointer-events"+D.value},[u("div",{class:Qe.value,style:{minWidth:t.thumbSize}},[u("div",{class:lt.value,style:H.value},[u("span",{class:te.value},s.label.value)])])])),t.name!==void 0&&t.disable!==!0&&m(Me,"push")),u("div",{class:$.value,style:R.value,...s.getNodeData()},Me)}}function ee(s,x,$,R){const D=[];t.innerTrackColor!=="transparent"&&D.push(u("div",{key:"inner",class:ge.value,style:be.value})),t.selectionColor!=="transparent"&&D.push(u("div",{key:"selection",class:fe.value,style:s.value})),t.markers!==!1&&D.push(u("div",{key:"marker",class:at.value,style:rt.value})),R(D);const H=[aa("div",{key:"trackC",class:U.value,tabindex:x.value,...$.value},[u("div",{class:Te.value,style:me.value},D)],"slide",P.value,()=>ut.value)];if(t.markerLabels!==!1){const te=t.switchMarkerLabelsSide===!0?"unshift":"push";H[te](u("div",{key:"markerL",class:ot.value},ct()))}return H}return gt(()=>{document.removeEventListener("mouseup",we,!0)}),{state:{active:c,focus:h,preventFocus:_,dragging:p,editable:P,classes:Pe,tabindex:ue,attributes:Ne,step:M,decimals:T,trackLen:de,innerMin:F,innerMinRatio:ne,innerMax:L,innerMaxRatio:z,positionProp:Q,sizeProp:Ee,isReversed:k},methods:{onActivate:dt,onMobileClick:vt,onBlur:Re,onKeyup:ft,getContent:ee,getThumbRenderFn:Z,convertRatioToModel:$e,convertModelToRatio:J,getDraggingRatio:nt}}}const Za=()=>({});var el=ce({name:"QSlider",props:{...Xa,modelValue:{required:!0,default:null,validator:e=>typeof e=="number"||e===null},labelValue:[String,Number]},emits:Ya,setup(e,{emit:l}){const{proxy:{$q:i}}=qe(),{state:n,methods:t}=Ja({updateValue:y,updatePosition:k,getDragging:w,formAttrs:ya(e)}),v=B(null),o=B(0),d=B(0);function f(){d.value=e.modelValue===null?n.innerMin.value:Se(e.modelValue,n.innerMin.value,n.innerMax.value)}K(()=>`${e.modelValue}|${n.innerMin.value}|${n.innerMax.value}`,f),f();const m=r(()=>t.convertModelToRatio(d.value)),c=r(()=>n.active.value===!0?o.value:m.value),_=r(()=>{const P={[n.positionProp.value]:`${100*n.innerMinRatio.value}%`,[n.sizeProp.value]:`${100*(c.value-n.innerMinRatio.value)}%`};return e.selectionImg!==void 0&&(P.backgroundImage=`url(${e.selectionImg}) !important`),P}),h=t.getThumbRenderFn({focusValue:!0,getNodeData:Za,ratio:c,label:r(()=>e.labelValue!==void 0?e.labelValue:d.value),thumbColor:r(()=>e.thumbColor||e.color),labelColor:r(()=>e.labelColor),labelTextColor:r(()=>e.labelTextColor)}),p=r(()=>n.editable.value!==!0?{}:i.platform.is.mobile===!0?{onClick:t.onMobileClick}:{onMousedown:t.onActivate,onFocus:F,onBlur:t.onBlur,onKeydown:L,onKeyup:t.onKeyup});function y(P){d.value!==e.modelValue&&l("update:modelValue",d.value),P===!0&&l("change",d.value)}function w(){return v.value.getBoundingClientRect()}function k(P,T=n.dragging.value){const M=t.getDraggingRatio(P,T);d.value=t.convertRatioToModel(M),o.value=e.snap!==!0||e.step===0?M:t.convertModelToRatio(d.value)}function F(){n.focus.value=!0}function L(P){if(!Nt.includes(P.keyCode))return;la(P);const T=([34,33].includes(P.keyCode)?10:1)*n.step.value,M=([34,37,40].includes(P.keyCode)?-1:1)*(n.isReversed.value===!0?-1:1)*(e.vertical===!0?-1:1)*T;d.value=Se(parseFloat((d.value+M).toFixed(n.decimals.value)),n.innerMin.value,n.innerMax.value),y()}return()=>{const P=t.getContent(_,n.tabindex,p,T=>{T.push(h())});return u("div",{ref:v,class:n.classes.value+(e.modelValue===null?" q-slider--no-value":""),...n.attributes.value,"aria-valuenow":e.modelValue},P)}}});function Le(e,l=6){if(e){const i=e==null?void 0:e.substring(0,l),n=e==null?void 0:e.substring(e.length-l);return`${i}[...]${n}`}return"error"}const tl={class:"row"},al=b("div",{class:"col text-no-wrap"},"Escrow:",-1),ll={class:"col-9 text-right"},ol={class:"row"},nl=b("div",{class:"col"},"Maker:",-1),rl={class:"col-9 text-right"},sl={class:"row"},il=b("div",{class:"col text-no-wrap"},"Deposited mint:",-1),cl={class:"col-9 text-right"},ul={class:"row"},dl=b("div",{class:"col text-no-wrap"},"Request mint:",-1),vl={class:"col-9 text-right"},fl={class:"row"},ml=b("div",{class:"col text-no-wrap"},"Deposit amount:",-1),gl={class:"col-9 text-right"},bl={class:"row"},_l=b("div",{class:"col text-no-wrap"},"Remaining amount:",-1),hl={class:"col-9 text-right"},yl={class:"row"},wl=b("div",{class:"col"},"Price:",-1),pl={class:"col-9 text-right"},kl={class:"row"},Sl=b("div",{class:"col"},"Recipient:",-1),xl={class:"col-9 text-right"},Cl={class:"row"},ql=b("div",{class:"col text-no-wrap"},"Allow Partial fill:",-1),Pl={class:"col-9 text-right"},Tl={class:"row"},$l=b("div",{class:"col text-no-wrap"},"Deal:",-1),Rl={class:"col-9 text-right"},Bl={class:"row"},Ml=b("div",{class:"col text-no-wrap"},"Expire timestamp:",-1),Al={class:"col-9 text-right"},Fl=De({__name:"EscrowDetails",props:["escrow"],setup(e){var t,v;const l=e,i=B((t=l.escrow)==null?void 0:t.publicKey),n=B((v=l.escrow)==null?void 0:v.account);return(o,d)=>(ie(),Bt(oa,null,[b("div",tl,[al,b("strong",ll,O(W(Le)(i.value.toString())),1)]),b("div",ol,[nl,b("strong",rl,O(W(Le)(n.value.maker.toString())),1)]),b("div",sl,[il,b("strong",cl,O(W(Le)(n.value.depositToken.toString())),1)]),b("div",ul,[dl,b("strong",vl,O(W(Le)(n.value.requestToken.toString())),1)]),b("div",fl,[ml,b("strong",gl,O(n.value.tokensDepositInit),1)]),b("div",bl,[_l,b("strong",hl,O(n.value.tokensDepositRemaining),1)]),b("div",yl,[wl,b("strong",pl,O(n.value.price.toString()),1)]),b("div",kl,[Sl,b("strong",xl,O(n.value.onlyRecipient?W(Le)(n.value.recipient.toString()):"any"),1)]),b("div",Cl,[ql,b("strong",Pl,O(n.value.allowPartialFill.toString()),1)]),b("div",Tl,[$l,b("strong",Rl,O(n.value.onlyWhitelist),1)]),b("div",Bl,[Ml,b("strong",Al,O(n.value.expireTimestamp!=0?n.value.expireTimestamp:"never"),1)])],64))}}),Ll=De({__name:"ExchangeEscrowButtonFill",props:["escrow_address"],setup(e){const l=e,i=bt();async function n(){const{pg_escrow:t}=_t();let v=i.notify({group:!1,timeout:0,spinner:!0,message:"Sending TX..."});try{const o=await t.value.account.escrow.fetch(l.escrow_address),d=o.seed;console.log(`escrow_account=${o}`),console.log(`seed=${d}`);const f=j.findProgramAddressSync([ae.Buffer.from("auth")],t.value.programId)[0],m=o.maker,c=j.findProgramAddressSync([ae.Buffer.from("escrow"),m.toBytes(),d.toArrayLike(ae.Buffer).reverse()],t.value.programId)[0],_=j.findProgramAddressSync([ae.Buffer.from("vault"),c.toBuffer()],t.value.programId)[0],h=Ce(new j(o.requestToken),o.maker,void 0,le,oe),p=Ce(new j(o.depositToken),xe().publicKey.value,void 0,le,oe),y=Ce(new j(o.requestToken),xe().publicKey.value,void 0,le,oe);console.log(`maker_receive_ata: ${h}`),console.log(`taker_request_ata: ${p}`),console.log(`taker_deposit_ata: ${y}`),console.log(o);let w=await t.value.methods.exchange(new Mt(o.tokensDepositRemaining.toNumber()*o.price)).accounts({taker:xe().publicKey.value,takerAta:y,takerReceiveAta:p,requestToken:o.requestToken,maker:o.maker,makerReceiveAta:h,depositToken:o.depositToken,auth:f,escrow:c,vault:_,tokenProgram:le,associatedTokenProgram:oe,systemProgram:At.programId,fee:Ft,whitelistProgram:null,whitelist:null,entry:null});console.log(w),w=await w.rpc(),console.log(`TX_Signature = ${w}`),await Vt(G().connection,w),v({type:"positive",icon:"done",spinner:!1,message:"Transaction confirmed!",timeout:2500})}catch(o){v({type:"negative",icon:"error",spinner:!1,message:o.toString(),timeout:5e3}),console.error(o)}}return(t,v)=>(ie(),Ve(ke,{color:"primary",icon:"send",label:"Fill",onClick:v[0]||(v[0]=o=>{n().then(()=>{console.info("build_tx executed")})})}))}});async function Tt(e,l){return l*Math.pow(10,-await zt(e))}async function Vl(e,l){return l*Math.pow(10,await zt(e))}async function zt(e){var i,n;let l=((i=G().token_list.find(t=>t.address==e.toString()))==null?void 0:i.decimals)??0;return l==0&&(l=na().raw.find(t=>t.mint==e.toString())?0:(n=(await G().connection.getParsedAccountInfo(e)).value)==null?void 0:n.data.parsed.info.decimals),l}const Dl=De({__name:"ExchangeEscrowButton",props:["escrow_address","exchange_amount"],setup(e){const l=e,i=bt();async function n(){const{pg_escrow:t}=_t();let v=i.notify({group:!1,timeout:0,spinner:!0,message:"Sending TX..."});try{const o=await t.value.account.escrow.fetch(l.escrow_address),d=o.seed,f=j.findProgramAddressSync([ae.Buffer.from("auth")],t.value.programId)[0],m=o.maker,c=j.findProgramAddressSync([ae.Buffer.from("escrow"),m.toBytes(),d.toArrayLike(ae.Buffer).reverse()],t.value.programId)[0],_=j.findProgramAddressSync([ae.Buffer.from("vault"),c.toBuffer()],t.value.programId)[0],h=Ce(new j(o.requestToken),o.maker,void 0,le,oe),p=Ce(new j(o.depositToken),xe().publicKey.value,void 0,le,oe),y=Ce(new j(o.requestToken),xe().publicKey.value,void 0,le,oe);console.log(`maker_receive_ata: ${h}`),console.log(`taker_request_ata: ${p}`),console.log(`taker_deposit_ata: ${y}`),console.log(`exchange_amount: ${l.exchange_amount}`);const w=await Vl(o.depositToken,l.exchange_amount);console.log(`exchange_amount: ${w}`);let k=await t.value.methods.exchange(new Mt(w)).accounts({taker:xe().publicKey.value,takerAta:y,takerReceiveAta:p,requestToken:o.requestToken,maker:o.maker,makerReceiveAta:h,depositToken:o.depositToken,auth:f,escrow:c,vault:_,tokenProgram:le,associatedTokenProgram:oe,systemProgram:At.programId,fee:Ft,whitelistProgram:null,whitelist:null,entry:null});console.log(k),k=await k.rpc(),console.log(`TX_Signature = ${k}`),await Vt(G().connection,k),v({type:"positive",icon:"done",spinner:!1,message:"Transaction confirmed!",timeout:2500})}catch(o){console.error(o),v({type:"negative",icon:"error",spinner:!1,message:o.toString(),timeout:5e3})}}return(t,v)=>(ie(),Ve(ke,{color:"primary",icon:"send",onClick:v[0]||(v[0]=o=>{n().then(()=>{console.info("build_tx executed")})})}))}}),El=b("p",{class:"text-weight-light text-green-9"},"You are buying",-1),Il=["src"],Ol={class:"col q-mx-sm"},Nl={class:"col"},zl={class:"row items-center justify-end q-gutter-x-xs"},jl={class:"text-right",style:{width:"100px"}},Ql=b("p",{class:"text-right",style:{"font-size":"smaller",width:"37px"}}," Available ",-1),Ul={class:"row items-center justify-end q-gutter-x-xs"},Hl={class:"text-right",style:{width:"100px"}},Kl=b("p",{class:"text-right",style:{"font-size":"smaller",width:"37px"}}," Amount ",-1),Wl=b("p",{class:"text-weight-light text-red-9"},"You are selling",-1),Gl=["src"],Xl={class:"col q-mx-sm"},Yl={class:"col"},Jl={class:"row items-center justify-end q-gutter-x-xs"},Zl={class:"text-right",style:{width:"100px"}},eo=b("p",{class:"text-right",style:{"font-size":"smaller",width:"37px"}}," Amount ",-1),to={class:"row q-gutter-x-sm"},ao={class:"col"},lo=b("p",{class:"text-right q-mx-sm q-mb-sm text-weight-thin"},"Fee: 0.006",-1),oo=De({__name:"EscrowViewCard",props:["escrow"],setup(e){var f,m;const l=e,i=B(l.escrow),n=B((f=l.escrow)==null?void 0:f.publicKey),t=B((m=l.escrow)==null?void 0:m.account),v=B(0),o=B(0),d=B(0);return tt(async()=>{o.value=await Tt(t.value.depositToken,t.value.tokensDepositRemaining.toNumber()),d.value=await Tt(t.value.requestToken,t.value.tokensDepositRemaining.toNumber()*t.value.price),t.value.allowPartialFill||(v.value=o.value)}),(c,_)=>(ie(),Ve(Ge,{flat:"",bordered:""},{default:I(()=>[E(pe,{class:"q-gutter-y-md"},{default:I(()=>[b("div",null,[El,E(Ge,{bordered:"",flat:"",class:"bg-secondary"},{default:I(()=>[E(pe,{class:"row items-center"},{default:I(()=>{var h;return[E(St,null,{default:I(()=>{var p;return[b("img",{src:((p=W(G)().token_list.find(y=>{var w;return y.address==((w=t.value)==null?void 0:w.depositToken.toString())}))==null?void 0:p.logoURI)??"unknown.png"},null,8,Il)]}),_:1}),b("p",Ol,O((h=W(G)().token_list.find(p=>{var y;return p.address==((y=t.value)==null?void 0:y.depositToken.toString())}))==null?void 0:h.symbol),1),b("div",null,[b("div",Nl,[b("div",zl,[b("b",jl,O(o.value.toFixed(2)),1),Ql]),b("div",Ul,[b("b",Hl,O(v.value.toFixed(2)),1),Kl])])])]}),_:1})]),_:1})]),b("div",null,[Wl,E(Ge,{bordered:"",flat:"",class:"bg-secondary"},{default:I(()=>[E(pe,{class:"row items-center"},{default:I(()=>{var h;return[E(St,null,{default:I(()=>{var p;return[b("img",{src:((p=W(G)().token_list.find(y=>{var w;return y.address==((w=t.value)==null?void 0:w.requestToken.toString())}))==null?void 0:p.logoURI)??"unknown.png"},null,8,Gl)]}),_:1}),b("p",Xl,O((h=W(G)().token_list.find(p=>{var y;return p.address==((y=t.value)==null?void 0:y.depositToken.toString())}))==null?void 0:h.symbol),1),b("div",null,[b("div",Yl,[b("div",Jl,[b("b",Zl,O((v.value*t.value.price).toFixed(2)),1),eo])])])]}),_:1})]),_:1})])]),_:1}),E(pe,{class:"q-gutter-y-sm items-center",style:{height:"120px"}},{default:I(()=>[t.value.allowPartialFill?(ie(),Ve(Ge,{key:1,bordered:"",class:"col bg-secondary q-pa-sm",flat:""},{default:I(()=>[b("div",to,[b("div",ao,[E(Dt,{dense:"",class:"col",standout:"",square:"",modelValue:v.value,"onUpdate:modelValue":_[0]||(_[0]=h=>v.value=h),label:"Amount",type:"number"},null,8,["modelValue"]),E(el,{class:"q-px-sm q-pt-sm",dense:"",modelValue:v.value,"onUpdate:modelValue":_[1]||(_[1]=h=>v.value=h),min:0,max:o.value,color:"blue","track-size":"10px","thumb-color":"black",markers:""},null,8,["modelValue","max"])]),E(Dl,{escrow_address:n.value,exchange_amount:v.value},null,8,["escrow_address","exchange_amount"])])]),_:1})):(ie(),Ve(Ll,{key:0,class:"full-width",escrow_address:n.value},null,8,["escrow_address"]))]),_:1}),E(pe,{class:"q-gutter-y-sm"},{default:I(()=>[E(Lt,{bordered:"",class:"rounded-borders"},{default:I(()=>[E(fa,{icon:"info",label:"Details"},{default:I(()=>[E(pe,null,{default:I(()=>[E(Fl,{escrow:i.value},null,8,["escrow"])]),_:1})]),_:1})]),_:1})]),_:1}),lo]),_:1}))}});const no={class:"q-pa-md"},co=De({__name:"EscrowTableCards",props:["title","escrow_filter"],setup(e){const l=e;bt();let i=B([]);const n=B([]);K(()=>G().is_initialized,async()=>{await t()}),tt(async()=>{G().is_initialized&&await t()});async function t(){const{pg_escrow:d}=_t(),f=(await d.value.account.escrow.all()).filter(m=>m.account.tokensDepositRemaining.toNumber()>0);switch(l.escrow_filter){case"p2p":console.log(f),i.value=f.filter(m=>m.account.recipient.toString()!=xt.toString());break;case"deals":i.value=f.filter(m=>m.account.onlyWhitelist==!0);break;default:i.value=i.value=f.filter(m=>m.account.recipient.toString()==xt.toString()&&m.account.onlyWhitelist!=!0);break}n.value=[]}const v=B({page:1}),o=B([{name:"name",label:"Name",field:"name"},{name:"price",label:"Price",field:"price"},{name:"calories",label:"Calories (g)",field:"calories"}]);return(d,f)=>(ie(),Bt("div",no,[E(Ka,{grid:"",flat:"",bordered:"",title:l.title,rows:W(i),columns:o.value,"row-key":"name",filter:d.filter,"hide-header":"",pagination:v.value,"onUpdate:pagination":f[1]||(f[1]=m=>v.value=m)},{"top-right":I(()=>[E(Dt,{borderless:"",dense:"",debounce:"300",modelValue:d.filter,"onUpdate:modelValue":f[0]||(f[0]=m=>d.filter=m),placeholder:"Search"},{append:I(()=>[E(et,{name:"search"})]),_:1},8,["modelValue"])]),item:I(m=>[b("div",{class:"q-pa-xs col-xs-12 col-sm-6 col-md-4 col-lg-3 grid-style-transition",style:ra(m.selected?"transform: scale(0.95);":"")},[E(oo,{escrow:m.row},null,8,["escrow"])],4)]),_:1},8,["title","rows","columns","filter","pagination"])]))}});export{el as Q,Ll as _,Dl as a,Fl as b,Ka as c,co as d};
