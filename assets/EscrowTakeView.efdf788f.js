import{a as gt,c as ht,k as Ke,f as ue,l as zt,u as Dt,m as Kt,v as tt,n as jt,b as Qt,h as Ht,d as Ut,o as Wt,p as Yt,q as Xt,e as Zt,r as Gt,s as at,t as Jt,w as nt,x as ea,y as ta,i as bt,z as aa,A as na,B as la,C as oa,D as lt,E as sa,F as ra,j as ia,G as ua,Q as Le}from"./use-key-composition.9402562c.js";import{az as kt,aA as ca,aB as ke,aC as da,aD as wt,P as oe,aE as va,aF as ot,aG as we,aH as _e,v as R,t as ie,u as i,F as ge,aI as fa,aJ as he,O as ma,aK as ga,aL as ve,aM as Ne,aN as st,aO as pe,aP as Me,aQ as xe,ah as Qe,w as _t,N as ha,at as ba,as as ka,aR as wa,Y as Ee,$ as fe,ar as yt,a0 as Te,ab as rt,aS as _a,ac as _,av as ee,a2 as I,a5 as x,aa as y,A as ae,C as le,D as $e,Q as ya,ad as pa,H as de,aj as xa,G as Ca,aT as Sa,aU as Ma,aV as Ve,J as Ta,aW as $a,aX as qa,a3 as ye,aY as Ie,a6 as me,aZ as Ea,a_ as Ba,a$ as Pa,b0 as Aa,b1 as Fa,a1 as te,a7 as Ce,a9 as Ra,aw as La}from"./index.b3287781.js";const He=e=>{const a=e.decode.bind(e),m=e.encode.bind(e);return{decode:a,encode:m}},Na=e=>a=>{const m=kt(e,a),{encode:r,decode:t}=He(m),n=m;return n.decode=(l,u)=>{const c=t(l,u);return ca(ke.Buffer.from(c))},n.encode=(l,u,c)=>{const d=da(l,e);return r(d,u,c)},n},Va=Na(8),Ia=e=>{const a=wt(e),{encode:m,decode:r}=He(a),t=a;return t.decode=(n,l)=>!!r(n,l),t.encode=(n,l,u)=>{const c=Number(n);return m(c,l,u)},t},it=e=>{const a=kt(32,e),{encode:m,decode:r}=He(a),t=a;return t.decode=(n,l)=>{const u=r(n,l);return new oe(u)},t.encode=(n,l,u)=>{const c=n.toBuffer();return m(c,l,u)},t};class Oa extends Error{constructor(a){super(a)}}class za extends Oa{constructor(){super(...arguments),this.name="TokenOwnerOffCurveError"}}const Da=va([ot("mintAuthorityOption"),it("mintAuthority"),Va("supply"),wt("decimals"),Ia("isInitialized"),ot("freezeAuthorityOption"),it("freezeAuthority")]);Da.span;function Oe(e,a,m=!1,r=we,t=_e){if(!m&&!oe.isOnCurve(a.toBuffer()))throw new za;const[n]=oe.findProgramAddressSync([a.toBuffer(),r.toBuffer(),e.toBuffer()],t);return n}const Ka=R("div",{class:"q-space"});var ja=ie({name:"QSpace",setup(){return()=>Ka}});const Qa={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},ze={xs:2,sm:4,md:8,lg:16,xl:24};var Ha=ie({name:"QSeparator",props:{...gt,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(e){const a=ge(),m=ht(e,a.proxy.$q),r=i(()=>e.vertical===!0?"vertical":"horizontal"),t=i(()=>` q-separator--${r.value}`),n=i(()=>e.inset!==!1?`${t.value}-${Qa[e.inset]}`:""),l=i(()=>`q-separator${t.value}${n.value}`+(e.color!==void 0?` bg-${e.color}`:"")+(m.value===!0?" q-separator--dark":"")),u=i(()=>{const c={};if(e.size!==void 0&&(c[e.vertical===!0?"width":"height"]=e.size),e.spaced!==!1){const d=e.spaced===!0?`${ze.md}px`:e.spaced in ze?`${ze[e.spaced]}px`:e.spaced,w=e.vertical===!0?["Left","Right"]:["Top","Bottom"];c[`margin${w[0]}`]=c[`margin${w[1]}`]=d}return c});return()=>R("hr",{class:l.value,style:u.value,"aria-orientation":r.value})}});const Ue={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},Ua=Object.keys(Ue);Ue.all=!0;function ut(e){const a={};for(const m of Ua)e[m]===!0&&(a[m]=!0);return Object.keys(a).length===0?Ue:(a.horizontal===!0?a.left=a.right=!0:a.left===!0&&a.right===!0&&(a.horizontal=!0),a.vertical===!0?a.up=a.down=!0:a.up===!0&&a.down===!0&&(a.vertical=!0),a.horizontal===!0&&a.vertical===!0&&(a.all=!0),a)}const Wa=["INPUT","TEXTAREA"];function ct(e,a){return a.event===void 0&&e.target!==void 0&&e.target.draggable!==!0&&typeof a.handler=="function"&&Wa.includes(e.target.nodeName.toUpperCase())===!1&&(e.qClonedBy===void 0||e.qClonedBy.indexOf(a.uid)===-1)}function De(e,a,m){const r=Me(e);let t,n=r.left-a.event.x,l=r.top-a.event.y,u=Math.abs(n),c=Math.abs(l);const d=a.direction;d.horizontal===!0&&d.vertical!==!0?t=n<0?"left":"right":d.horizontal!==!0&&d.vertical===!0?t=l<0?"up":"down":d.up===!0&&l<0?(t="up",u>c&&(d.left===!0&&n<0?t="left":d.right===!0&&n>0&&(t="right"))):d.down===!0&&l>0?(t="down",u>c&&(d.left===!0&&n<0?t="left":d.right===!0&&n>0&&(t="right"))):d.left===!0&&n<0?(t="left",u<c&&(d.up===!0&&l<0?t="up":d.down===!0&&l>0&&(t="down"))):d.right===!0&&n>0&&(t="right",u<c&&(d.up===!0&&l<0?t="up":d.down===!0&&l>0&&(t="down")));let w=!1;if(t===void 0&&m===!1){if(a.event.isFirst===!0||a.event.lastDir===void 0)return{};t=a.event.lastDir,w=!0,t==="left"||t==="right"?(r.left-=n,u=0,n=0):(r.top-=l,c=0,l=0)}return{synthetic:w,payload:{evt:e,touch:a.event.mouse!==!0,mouse:a.event.mouse===!0,position:r,direction:t,isFirst:a.event.isFirst,isFinal:m===!0,duration:Date.now()-a.event.time,distance:{x:u,y:c},offset:{x:n,y:l},delta:{x:r.left-a.event.lastX,y:r.top-a.event.lastY}}}}let Ya=0;var Xa=fa({name:"touch-pan",beforeMount(e,{value:a,modifiers:m}){if(m.mouse!==!0&&he.has.touch!==!0)return;function r(n,l){m.mouse===!0&&l===!0?Qe(n):(m.stop===!0&&pe(n),m.prevent===!0&&st(n))}const t={uid:"qvtp_"+Ya++,handler:a,modifiers:m,direction:ut(m),noop:ma,mouseStart(n){ct(n,t)&&ga(n)&&(ve(t,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),t.start(n,!0))},touchStart(n){if(ct(n,t)){const l=n.target;ve(t,"temp",[[l,"touchmove","move","notPassiveCapture"],[l,"touchcancel","end","passiveCapture"],[l,"touchend","end","passiveCapture"]]),t.start(n)}},start(n,l){if(he.is.firefox===!0&&Ne(e,!0),t.lastEvt=n,l===!0||m.stop===!0){if(t.direction.all!==!0&&(l!==!0||t.modifiers.mouseAllDir!==!0&&t.modifiers.mousealldir!==!0)){const d=n.type.indexOf("mouse")>-1?new MouseEvent(n.type,n):new TouchEvent(n.type,n);n.defaultPrevented===!0&&st(d),n.cancelBubble===!0&&pe(d),Object.assign(d,{qKeyEvent:n.qKeyEvent,qClickOutside:n.qClickOutside,qAnchorHandled:n.qAnchorHandled,qClonedBy:n.qClonedBy===void 0?[t.uid]:n.qClonedBy.concat(t.uid)}),t.initialEvent={target:n.target,event:d}}pe(n)}const{left:u,top:c}=Me(n);t.event={x:u,y:c,time:Date.now(),mouse:l===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:u,lastY:c}},move(n){if(t.event===void 0)return;const l=Me(n),u=l.left-t.event.x,c=l.top-t.event.y;if(u===0&&c===0)return;t.lastEvt=n;const d=t.event.mouse===!0,w=()=>{r(n,d);let p;m.preserveCursor!==!0&&m.preservecursor!==!0&&(p=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),d===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Ke(),t.styleCleanup=M=>{if(t.styleCleanup=void 0,p!==void 0&&(document.documentElement.style.cursor=p),document.body.classList.remove("non-selectable"),d===!0){const L=()=>{document.body.classList.remove("no-pointer-events--children")};M!==void 0?setTimeout(()=>{L(),M()},50):L()}else M!==void 0&&M()}};if(t.event.detected===!0){t.event.isFirst!==!0&&r(n,t.event.mouse);const{payload:p,synthetic:M}=De(n,t,!1);p!==void 0&&(t.handler(p)===!1?t.end(n):(t.styleCleanup===void 0&&t.event.isFirst===!0&&w(),t.event.lastX=p.position.left,t.event.lastY=p.position.top,t.event.lastDir=M===!0?void 0:p.direction,t.event.isFirst=!1));return}if(t.direction.all===!0||d===!0&&(t.modifiers.mouseAllDir===!0||t.modifiers.mousealldir===!0)){w(),t.event.detected=!0,t.move(n);return}const h=Math.abs(u),k=Math.abs(c);h!==k&&(t.direction.horizontal===!0&&h>k||t.direction.vertical===!0&&h<k||t.direction.up===!0&&h<k&&c<0||t.direction.down===!0&&h<k&&c>0||t.direction.left===!0&&h>k&&u<0||t.direction.right===!0&&h>k&&u>0?(t.event.detected=!0,t.move(n)):t.end(n,!0))},end(n,l){if(t.event!==void 0){if(xe(t,"temp"),he.is.firefox===!0&&Ne(e,!1),l===!0)t.styleCleanup!==void 0&&t.styleCleanup(),t.event.detected!==!0&&t.initialEvent!==void 0&&t.initialEvent.target.dispatchEvent(t.initialEvent.event);else if(t.event.detected===!0){t.event.isFirst===!0&&t.handler(De(n===void 0?t.lastEvt:n,t).payload);const{payload:u}=De(n===void 0?t.lastEvt:n,t,!0),c=()=>{t.handler(u)};t.styleCleanup!==void 0?t.styleCleanup(c):c()}t.event=void 0,t.initialEvent=void 0,t.lastEvt=void 0}}};if(e.__qtouchpan=t,m.mouse===!0){const n=m.mouseCapture===!0||m.mousecapture===!0?"Capture":"";ve(t,"main",[[e,"mousedown","mouseStart",`passive${n}`]])}he.has.touch===!0&&ve(t,"main",[[e,"touchstart","touchStart",`passive${m.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,a){const m=e.__qtouchpan;m!==void 0&&(a.oldValue!==a.value&&(typeof value!="function"&&m.end(),m.handler=a.value),m.direction=ut(a.modifiers))},beforeUnmount(e){const a=e.__qtouchpan;a!==void 0&&(a.event!==void 0&&a.end(),xe(a,"main"),xe(a,"temp"),he.is.firefox===!0&&Ne(e,!1),a.styleCleanup!==void 0&&a.styleCleanup(),delete e.__qtouchpan)}}),Se=ie({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:a}){const m=i(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>R(e.tag,{class:m.value},_t(a.default))}});const Za=["top","middle","bottom"];var ce=ie({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:e=>Za.includes(e)}},setup(e,{slots:a}){const m=i(()=>e.align!==void 0?{verticalAlign:e.align}:null),r=i(()=>{const t=e.outline===!0&&e.color||e.textColor;return`q-badge flex inline items-center no-wrap q-badge--${e.multiLine===!0?"multi":"single"}-line`+(e.outline===!0?" q-badge--outline":e.color!==void 0?` bg-${e.color}`:"")+(t!==void 0?` text-${t}`:"")+(e.floating===!0?" q-badge--floating":"")+(e.rounded===!0?" q-badge--rounded":"")+(e.transparent===!0?" q-badge--transparent":"")});return()=>R("div",{class:r.value,style:m.value,role:"status","aria-label":e.label},ha(a.default,e.label!==void 0?[e.label]:[]))}});function be(e,a=6){if(e){const m=e==null?void 0:e.substring(0,a),r=e==null?void 0:e.substring(e.length-a);return`${m}[...]${r}`}return"error"}const Ga={...ba,min:{type:Number,default:0},max:{type:Number,default:100},color:String,centerColor:String,trackColor:String,fontSize:String,rounded:Boolean,thickness:{type:Number,default:.2,validator:e=>e>=0&&e<=1},angle:{type:Number,default:0},showValue:Boolean,reverse:Boolean,instantFeedback:Boolean},je=50,pt=2*je,xt=pt*Math.PI,Ja=Math.round(xt*1e3)/1e3;var en=ie({name:"QCircularProgress",props:{...Ga,value:{type:Number,default:0},animationSpeed:{type:[String,Number],default:600},indeterminate:Boolean},setup(e,{slots:a}){const{proxy:{$q:m}}=ge(),r=ka(e),t=i(()=>{const k=(m.lang.rtl===!0?-1:1)*e.angle;return{transform:e.reverse!==(m.lang.rtl===!0)?`scale3d(-1, 1, 1) rotate3d(0, 0, 1, ${-90-k}deg)`:`rotate3d(0, 0, 1, ${k-90}deg)`}}),n=i(()=>e.instantFeedback!==!0&&e.indeterminate!==!0?{transition:`stroke-dashoffset ${e.animationSpeed}ms ease 0s, stroke ${e.animationSpeed}ms ease`}:""),l=i(()=>pt/(1-e.thickness/2)),u=i(()=>`${l.value/2} ${l.value/2} ${l.value} ${l.value}`),c=i(()=>ue(e.value,e.min,e.max)),d=i(()=>xt*(1-(c.value-e.min)/(e.max-e.min))),w=i(()=>e.thickness/2*l.value);function h({thickness:k,offset:p,color:M,cls:L,rounded:N}){return R("circle",{class:"q-circular-progress__"+L+(M!==void 0?` text-${M}`:""),style:n.value,fill:"transparent",stroke:"currentColor","stroke-width":k,"stroke-dasharray":Ja,"stroke-dashoffset":p,"stroke-linecap":N,cx:l.value,cy:l.value,r:je})}return()=>{const k=[];e.centerColor!==void 0&&e.centerColor!=="transparent"&&k.push(R("circle",{class:`q-circular-progress__center text-${e.centerColor}`,fill:"currentColor",r:je-w.value/2,cx:l.value,cy:l.value})),e.trackColor!==void 0&&e.trackColor!=="transparent"&&k.push(h({cls:"track",thickness:w.value,offset:0,color:e.trackColor})),k.push(h({cls:"circle",thickness:w.value,offset:d.value,color:e.color,rounded:e.rounded===!0?"round":void 0}));const p=[R("svg",{class:"q-circular-progress__svg",style:t.value,viewBox:u.value,"aria-hidden":"true"},k)];return e.showValue===!0&&p.push(R("div",{class:"q-circular-progress__text absolute-full row flex-center content-center",style:{fontSize:e.fontSize}},a.default!==void 0?a.default():[R("div",c.value)])),R("div",{class:`q-circular-progress q-circular-progress--${e.indeterminate===!0?"in":""}determinate`,style:r.value,role:"progressbar","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.indeterminate===!0?void 0:c.value},wa(a.internal,p))}}});const tn=Ee({__name:"EscrowStateElement",props:["escrow"],setup(e){const a=e,m=i(()=>{var r,t;return(((r=a.escrow)==null?void 0:r.account.tokensDepositRemaining.toNumber())??0)/(((t=a.escrow)==null?void 0:t.account.tokensDepositInit.toNumber())??0)*100});return(r,t)=>(fe(),yt(_a,null,[m.value==0?(fe(),Te(ce,{key:0,color:"yellow",label:"FILLED",outline:""})):rt("",!0),m.value!=0?(fe(),Te(en,{key:1,value:m.value,size:"30px",thickness:1,"track-color":"black",color:"green"},null,8,["value"])):rt("",!0)],64))}}),an={class:"col q-gutter-y-md"},nn={class:"row items-center"},ln=_("p",{class:"text-h6 col"},"State",-1),on={class:"q-mr-sm"},sn={class:"col q-gutter-y-sm"},rn={class:"row"},un=_("div",{class:"col text-weight-light text-no-wrap"},"Escrow:",-1),cn={class:"style-right"},dn={class:"row"},vn=_("div",{class:"col text-weight-light text-no-wrap"},"Maker:",-1),fn={class:"style-right"},mn={class:"row"},gn=_("div",{class:"col text-weight-light text-no-wrap"},"Deposited mint:",-1),hn={class:"col-9 text-right"},bn={class:"row"},kn=_("div",{class:"col text-weight-light text-no-wrap"},"Request mint:",-1),wn={class:"col-9 text-right"},_n={class:"row"},yn=_("div",{class:"col text-weight-light text-no-wrap"},"Deposit amount:",-1),pn={class:"col-9 text-right"},xn={class:"row"},Cn=_("div",{class:"col text-weight-light text-no-wrap"},"Remaining amount:",-1),Sn={class:"col-9 text-right"},Mn={class:"row"},Tn=_("div",{class:"col text-weight-light text-no-wrap"},"Price:",-1),$n={class:"col-9 text-right"},qn={class:"row"},En=_("div",{class:"col text-weight-light text-no-wrap"},"Recipient:",-1),Bn={class:"row"},Pn=_("div",{class:"col text-weight-light text-no-wrap"},"Partial fill:",-1),An={class:"row"},Fn=_("div",{class:"col text-weight-light text-no-wrap"},"Public",-1),Rn={class:"row"},Ln=_("div",{class:"col text-weight-light text-no-wrap"},"Expire timestamp",-1),kl=Ee({__name:"EscrowDetails",setup(e){const a=i(()=>{var m,r;return(((m=y().escrow_selected)==null?void 0:m.account.tokensDepositRemaining.toNumber())??0)/(((r=y().escrow_selected)==null?void 0:r.account.tokensDepositInit.toNumber())??0)*100});return(m,r)=>{var t,n,l,u,c,d,w,h,k,p,M,L,N,A,F,B,W,O,X,D,ne,v,f,b,g,T,C,V,S,q,Z,G,P;return fe(),yt("div",an,[_("div",nn,[ln,_("p",on,ee(a.value)+"%",1),I(tn,{escrow:x(y)().escrow_selected},null,8,["escrow"])]),I(Ha),_("div",sn,[_("div",rn,[un,_("strong",cn,ee(x(be)((t=x(y)().escrow_selected)==null?void 0:t.publicKey.toString())),1)]),_("div",dn,[vn,_("strong",fn,ee(x(be)((n=x(y)().escrow_selected)==null?void 0:n.account.maker.toString())),1)]),_("div",mn,[gn,_("strong",hn,ee(x(be)((c=(u=(l=x(y)().escrow_selected)==null?void 0:l.account)==null?void 0:u.depositToken)==null?void 0:c.toString())),1)]),_("div",bn,[kn,_("strong",wn,ee(x(be)((h=(w=(d=x(y)().escrow_selected)==null?void 0:d.account)==null?void 0:w.requestToken)==null?void 0:h.toString())),1)]),_("div",_n,[yn,_("strong",pn,ee(((p=(k=x(y)().escrow_selected)==null?void 0:k.account)==null?void 0:p.tokensDepositInit)*10**-((M=x(y)().token_list.find(z=>{var o;return z.address==((o=x(y)().escrow_selected)==null?void 0:o.account.depositToken.toString())}))==null?void 0:M.decimals)),1)]),_("div",xn,[Cn,_("strong",Sn,ee(((N=(L=x(y)().escrow_selected)==null?void 0:L.account)==null?void 0:N.tokensDepositRemaining)*10**-((A=x(y)().token_list.find(z=>{var o;return z.address==((o=x(y)().escrow_selected)==null?void 0:o.account.depositToken.toString())}))==null?void 0:A.decimals)),1)]),_("div",Mn,[Tn,_("strong",$n,ee((F=x(y)().escrow_selected)==null?void 0:F.account.price),1)]),_("div",qn,[En,I(ce,{outline:"",label:(W=(B=x(y)().escrow_selected)==null?void 0:B.account)!=null&&W.onlyRecipient?x(be)(((X=(O=x(y)().escrow_selected)==null?void 0:O.account)==null?void 0:X.recipient.toString())??""):"any"},null,8,["label"])]),_("div",Bn,[Pn,I(ce,{outline:"",label:(ne=(D=x(y)().escrow_selected)==null?void 0:D.account)!=null&&ne.allowPartialFill?"yes":"no",color:(f=(v=x(y)().escrow_selected)==null?void 0:v.account)!=null&&f.allowPartialFill?"purple":"grey"},null,8,["label","color"])]),_("div",An,[Fn,I(ce,{outline:"",class:"",label:(g=(b=x(y)().escrow_selected)==null?void 0:b.account)!=null&&g.onlyWhitelist?"no":"yes",color:(C=(T=x(y)().escrow_selected)==null?void 0:T.account)!=null&&C.onlyWhitelist?"yellow":"green"},null,8,["label","color"])]),_("div",Rn,[Ln,I(ce,{outline:"",class:"",label:((S=(V=x(y)().escrow_selected)==null?void 0:V.account)==null?void 0:S.expireTimestamp)!=0?(Z=(q=x(y)().escrow_selected)==null?void 0:q.account)==null?void 0:Z.expireTimestamp.toNumber():"never",color:((P=(G=x(y)().escrow_selected)==null?void 0:G.account)==null?void 0:P.expireTimestamp)!=0?"yellow":"grey"},null,8,["label","color"])])])])}}});var Nn=ie({name:"QTooltip",inheritAttrs:!1,props:{...zt,...Dt,...Kt,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{default:"jump-down"},transitionHide:{default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:tt},self:{type:String,default:"top middle",validator:tt},offset:{type:Array,default:()=>[14,14],validator:jt},scrollTarget:{default:void 0},delay:{type:Number,default:0},hideDelay:{type:Number,default:0}},emits:[...Qt],setup(e,{slots:a,emit:m,attrs:r}){let t,n;const l=ge(),{proxy:{$q:u}}=l,c=ae(null),d=ae(!1),w=i(()=>nt(e.anchor,u.lang.rtl)),h=i(()=>nt(e.self,u.lang.rtl)),k=i(()=>e.persistent!==!0),{registerTick:p,removeTick:M}=Ht(),{registerTimeout:L}=Ut(),{transitionProps:N,transitionStyle:A}=Wt(e),{localScrollTarget:F,changeScrollEvent:B,unconfigureScrollTarget:W}=Yt(e,P),{anchorEl:O,canShow:X,anchorEvents:D}=Xt({showing:d,configureAnchorEl:G}),{show:ne,hide:v}=Zt({showing:d,canShow:X,handleShow:T,handleHide:C,hideOnRouteChange:k,processOnMount:!0});Object.assign(D,{delayShow:q,delayHide:Z});const{showPortal:f,hidePortal:b,renderPortal:g}=Gt(l,c,o,"tooltip");if(u.platform.is.mobile===!0){const $={anchorEl:O,innerRef:c,onClickOutside(Q){return v(Q),Q.target.classList.contains("q-dialog__backdrop")&&Qe(Q),!0}},J=i(()=>e.modelValue===null&&e.persistent!==!0&&d.value===!0);le(J,Q=>{(Q===!0?ea:at)($)}),$e(()=>{at($)})}function T($){f(),p(()=>{n=new MutationObserver(()=>S()),n.observe(c.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),S(),P()}),t===void 0&&(t=le(()=>u.screen.width+"|"+u.screen.height+"|"+e.self+"|"+e.anchor+"|"+u.lang.rtl,S)),L(()=>{f(!0),m("show",$)},e.transitionDuration)}function C($){M(),b(),V(),L(()=>{b(!0),m("hide",$)},e.transitionDuration)}function V(){n!==void 0&&(n.disconnect(),n=void 0),t!==void 0&&(t(),t=void 0),W(),xe(D,"tooltipTemp")}function S(){Jt({targetEl:c.value,offset:e.offset,anchorEl:O.value,anchorOrigin:w.value,selfOrigin:h.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function q($){if(u.platform.is.mobile===!0){Ke(),document.body.classList.add("non-selectable");const J=O.value,Q=["touchmove","touchcancel","touchend","click"].map(H=>[J,H,"delayHide","passiveCapture"]);ve(D,"tooltipTemp",Q)}L(()=>{ne($)},e.delay)}function Z($){u.platform.is.mobile===!0&&(xe(D,"tooltipTemp"),Ke(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),L(()=>{v($)},e.hideDelay)}function G(){if(e.noParentEvent===!0||O.value===null)return;const $=u.platform.is.mobile===!0?[[O.value,"touchstart","delayShow","passive"]]:[[O.value,"mouseenter","delayShow","passive"],[O.value,"mouseleave","delayHide","passive"]];ve(D,"anchor",$)}function P(){if(O.value!==null||e.scrollTarget!==void 0){F.value=ya(O.value,e.scrollTarget);const $=e.noParentEvent===!0?S:v;B(F.value,$)}}function z(){return d.value===!0?R("div",{...r,ref:c,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",r.class],style:[r.style,A.value],role:"tooltip"},_t(a.default)):null}function o(){return R(pa,N.value,z)}return $e(V),Object.assign(l.proxy,{updatePosition:S}),g}});const dt={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},qe={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},Ct=Object.keys(qe);Ct.forEach(e=>{qe[e].regex=new RegExp(qe[e].pattern)});const Vn=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+Ct.join("")+"])|(.)","g"),vt=/[.*+?^${}()|[\]\\]/g,U=String.fromCharCode(1),In={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function On(e,a,m,r){let t,n,l,u,c,d;const w=ae(null),h=ae(p());function k(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}le(()=>e.type+e.autogrow,L),le(()=>e.mask,v=>{if(v!==void 0)N(h.value,!0);else{const f=D(h.value);L(),e.modelValue!==f&&a("update:modelValue",f)}}),le(()=>e.fillMask+e.reverseFillMask,()=>{w.value===!0&&N(h.value,!0)}),le(()=>e.unmaskedValue,()=>{w.value===!0&&N(h.value)});function p(){if(L(),w.value===!0){const v=O(D(e.modelValue));return e.fillMask!==!1?ne(v):v}return e.modelValue}function M(v){if(v<t.length)return t.slice(-v);let f="",b=t;const g=b.indexOf(U);if(g>-1){for(let T=v-b.length;T>0;T--)f+=U;b=b.slice(0,g)+f+b.slice(g)}return b}function L(){if(w.value=e.mask!==void 0&&e.mask.length!==0&&k(),w.value===!1){u=void 0,t="",n="";return}const v=dt[e.mask]===void 0?e.mask:dt[e.mask],f=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",b=f.replace(vt,"\\$&"),g=[],T=[],C=[];let V=e.reverseFillMask===!0,S="",q="";v.replace(Vn,(z,o,$,J,Q)=>{if(J!==void 0){const H=qe[J];C.push(H),q=H.negate,V===!0&&(T.push("(?:"+q+"+)?("+H.pattern+"+)?(?:"+q+"+)?("+H.pattern+"+)?"),V=!1),T.push("(?:"+q+"+)?("+H.pattern+")?")}else if($!==void 0)S="\\"+($==="\\"?"":$),C.push($),g.push("([^"+S+"]+)?"+S+"?");else{const H=o!==void 0?o:Q;S=H==="\\"?"\\\\\\\\":H.replace(vt,"\\\\$&"),C.push(H),g.push("([^"+S+"]+)?"+S+"?")}});const Z=new RegExp("^"+g.join("")+"("+(S===""?".":"[^"+S+"]")+"+)?"+(S===""?"":"["+S+"]*")+"$"),G=T.length-1,P=T.map((z,o)=>o===0&&e.reverseFillMask===!0?new RegExp("^"+b+"*"+z):o===G?new RegExp("^"+z+"("+(q===""?".":q)+"+)?"+(e.reverseFillMask===!0?"$":b+"*")):new RegExp("^"+z));l=C,u=z=>{const o=Z.exec(e.reverseFillMask===!0?z:z.slice(0,C.length+1));o!==null&&(z=o.slice(1).join(""));const $=[],J=P.length;for(let Q=0,H=z;Q<J;Q++){const se=P[Q].exec(H);if(se===null)break;H=H.slice(se.shift().length),$.push(...se)}return $.length!==0?$.join(""):z},t=C.map(z=>typeof z=="string"?z:U).join(""),n=t.split(U).join(f)}function N(v,f,b){const g=r.value,T=g.selectionEnd,C=g.value.length-T,V=D(v);f===!0&&L();const S=O(V),q=e.fillMask!==!1?ne(S):S,Z=h.value!==q;g.value!==q&&(g.value=q),Z===!0&&(h.value=q),document.activeElement===g&&de(()=>{if(q===n){const P=e.reverseFillMask===!0?n.length:0;g.setSelectionRange(P,P,"forward");return}if(b==="insertFromPaste"&&e.reverseFillMask!==!0){const P=g.selectionEnd;let z=T-1;for(let o=c;o<=z&&o<P;o++)t[o]!==U&&z++;F.right(g,z);return}if(["deleteContentBackward","deleteContentForward"].indexOf(b)>-1){const P=e.reverseFillMask===!0?T===0?q.length>S.length?1:0:Math.max(0,q.length-(q===n?0:Math.min(S.length,C)+1))+1:T;g.setSelectionRange(P,P,"forward");return}if(e.reverseFillMask===!0)if(Z===!0){const P=Math.max(0,q.length-(q===n?0:Math.min(S.length,C+1)));P===1&&T===1?g.setSelectionRange(P,P,"forward"):F.rightReverse(g,P)}else{const P=q.length-C;g.setSelectionRange(P,P,"backward")}else if(Z===!0){const P=Math.max(0,t.indexOf(U),Math.min(S.length,T)-1);F.right(g,P)}else{const P=T-1;F.right(g,P)}});const G=e.unmaskedValue===!0?D(q):q;String(e.modelValue)!==G&&(e.modelValue!==null||G!=="")&&m(G,!0)}function A(v,f,b){const g=O(D(v.value));f=Math.max(0,t.indexOf(U),Math.min(g.length,f)),c=f,v.setSelectionRange(f,b,"forward")}const F={left(v,f){const b=t.slice(f-1).indexOf(U)===-1;let g=Math.max(0,f-1);for(;g>=0;g--)if(t[g]===U){f=g,b===!0&&f++;break}if(g<0&&t[f]!==void 0&&t[f]!==U)return F.right(v,0);f>=0&&v.setSelectionRange(f,f,"backward")},right(v,f){const b=v.value.length;let g=Math.min(b,f+1);for(;g<=b;g++)if(t[g]===U){f=g;break}else t[g-1]===U&&(f=g);if(g>b&&t[f-1]!==void 0&&t[f-1]!==U)return F.left(v,b);v.setSelectionRange(f,f,"forward")},leftReverse(v,f){const b=M(v.value.length);let g=Math.max(0,f-1);for(;g>=0;g--)if(b[g-1]===U){f=g;break}else if(b[g]===U&&(f=g,g===0))break;if(g<0&&b[f]!==void 0&&b[f]!==U)return F.rightReverse(v,0);f>=0&&v.setSelectionRange(f,f,"backward")},rightReverse(v,f){const b=v.value.length,g=M(b),T=g.slice(0,f+1).indexOf(U)===-1;let C=Math.min(b,f+1);for(;C<=b;C++)if(g[C-1]===U){f=C,f>0&&T===!0&&f--;break}if(C>b&&g[f-1]!==void 0&&g[f-1]!==U)return F.leftReverse(v,b);v.setSelectionRange(f,f,"forward")}};function B(v){a("click",v),d=void 0}function W(v){if(a("keydown",v),xa(v)===!0||v.altKey===!0)return;const f=r.value,b=f.selectionStart,g=f.selectionEnd;if(v.shiftKey||(d=void 0),v.keyCode===37||v.keyCode===39){v.shiftKey&&d===void 0&&(d=f.selectionDirection==="forward"?b:g);const T=F[(v.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(v.preventDefault(),T(f,d===b?g:b),v.shiftKey){const C=f.selectionStart;f.setSelectionRange(Math.min(d,C),Math.max(d,C),"forward")}}else v.keyCode===8&&e.reverseFillMask!==!0&&b===g?(F.left(f,b),f.setSelectionRange(f.selectionStart,g,"backward")):v.keyCode===46&&e.reverseFillMask===!0&&b===g&&(F.rightReverse(f,g),f.setSelectionRange(b,f.selectionEnd,"forward"))}function O(v){if(v==null||v==="")return"";if(e.reverseFillMask===!0)return X(v);const f=l;let b=0,g="";for(let T=0;T<f.length;T++){const C=v[b],V=f[T];if(typeof V=="string")g+=V,C===V&&b++;else if(C!==void 0&&V.regex.test(C))g+=V.transform!==void 0?V.transform(C):C,b++;else return g}return g}function X(v){const f=l,b=t.indexOf(U);let g=v.length-1,T="";for(let C=f.length-1;C>=0&&g>-1;C--){const V=f[C];let S=v[g];if(typeof V=="string")T=V+T,S===V&&g--;else if(S!==void 0&&V.regex.test(S))do T=(V.transform!==void 0?V.transform(S):S)+T,g--,S=v[g];while(b===C&&S!==void 0&&V.regex.test(S));else return T}return T}function D(v){return typeof v!="string"||u===void 0?typeof v=="number"?u(""+v):v:u(v)}function ne(v){return n.length-v.length<=0?v:e.reverseFillMask===!0&&v.length!==0?n.slice(0,-v.length)+v:v+n.slice(v.length)}return{innerValue:h,hasMask:w,moveCursorForPaste:A,updateMaskValue:N,onMaskedKeydown:W,onMaskedClick:B}}function zn(e,a){function m(){const r=e.modelValue;try{const t="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(r)===r&&("length"in r?Array.from(r):[r]).forEach(n=>{t.items.add(n)}),{files:t.files}}catch{return{files:void 0}}}return a===!0?i(()=>{if(e.type==="file")return m()}):i(m)}var ft=ie({name:"QInput",inheritAttrs:!1,props:{...ta,...In,...bt,modelValue:{required:!1},shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...aa,"paste","change","keydown","click","animationend"],setup(e,{emit:a,attrs:m}){const{proxy:r}=ge(),{$q:t}=r,n={};let l=NaN,u,c,d=null,w;const h=ae(null),k=na(e),{innerValue:p,hasMask:M,moveCursorForPaste:L,updateMaskValue:N,onMaskedKeydown:A,onMaskedClick:F}=On(e,a,S,h),B=zn(e,!0),W=i(()=>lt(p.value)),O=ra(C),X=la(),D=i(()=>e.type==="textarea"||e.autogrow===!0),ne=i(()=>D.value===!0||["text","search","url","tel","password"].includes(e.type)),v=i(()=>{const o={...X.splitAttrs.listeners.value,onInput:C,onPaste:T,onChange:Z,onBlur:G,onFocus:pe};return o.onCompositionstart=o.onCompositionupdate=o.onCompositionend=O,M.value===!0&&(o.onKeydown=A,o.onClick=F),e.autogrow===!0&&(o.onAnimationend=V),o}),f=i(()=>{const o={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:k.value,...X.splitAttrs.attributes.value,id:X.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return D.value===!1&&(o.type=e.type),e.autogrow===!0&&(o.rows=1),o});le(()=>e.type,()=>{h.value&&(h.value.value=e.modelValue)}),le(()=>e.modelValue,o=>{if(M.value===!0){if(c===!0&&(c=!1,String(o)===l))return;N(o)}else p.value!==o&&(p.value=o,e.type==="number"&&n.hasOwnProperty("value")===!0&&(u===!0?u=!1:delete n.value));e.autogrow===!0&&de(q)}),le(()=>e.autogrow,o=>{o===!0?de(q):h.value!==null&&m.rows>0&&(h.value.style.height="auto")}),le(()=>e.dense,()=>{e.autogrow===!0&&de(q)});function b(){sa(()=>{const o=document.activeElement;h.value!==null&&h.value!==o&&(o===null||o.id!==X.targetUid.value)&&h.value.focus({preventScroll:!0})})}function g(){h.value!==null&&h.value.select()}function T(o){if(M.value===!0&&e.reverseFillMask!==!0){const $=o.target;L($,$.selectionStart,$.selectionEnd)}a("paste",o)}function C(o){if(!o||!o.target)return;if(e.type==="file"){a("update:modelValue",o.target.files);return}const $=o.target.value;if(o.target.qComposing===!0){n.value=$;return}if(M.value===!0)N($,!1,o.inputType);else if(S($),ne.value===!0&&o.target===document.activeElement){const{selectionStart:J,selectionEnd:Q}=o.target;J!==void 0&&Q!==void 0&&de(()=>{o.target===document.activeElement&&$.indexOf(o.target.value)===0&&o.target.setSelectionRange(J,Q)})}e.autogrow===!0&&q()}function V(o){a("animationend",o),q()}function S(o,$){w=()=>{d=null,e.type!=="number"&&n.hasOwnProperty("value")===!0&&delete n.value,e.modelValue!==o&&l!==o&&(l=o,$===!0&&(c=!0),a("update:modelValue",o),de(()=>{l===o&&(l=NaN)})),w=void 0},e.type==="number"&&(u=!0,n.value=o),e.debounce!==void 0?(d!==null&&clearTimeout(d),n.value=o,d=setTimeout(w,e.debounce)):w()}function q(){requestAnimationFrame(()=>{const o=h.value;if(o!==null){const $=o.parentNode.style,{scrollTop:J}=o,{overflowY:Q,maxHeight:H}=t.platform.is.firefox===!0?{}:window.getComputedStyle(o),se=Q!==void 0&&Q!=="scroll";se===!0&&(o.style.overflowY="hidden"),$.marginBottom=o.scrollHeight-1+"px",o.style.height="1px",o.style.height=o.scrollHeight+"px",se===!0&&(o.style.overflowY=parseInt(H,10)<o.scrollHeight?"auto":"hidden"),$.marginBottom="",o.scrollTop=J}})}function Z(o){O(o),d!==null&&(clearTimeout(d),d=null),w!==void 0&&w(),a("change",o.target.value)}function G(o){o!==void 0&&pe(o),d!==null&&(clearTimeout(d),d=null),w!==void 0&&w(),u=!1,c=!1,delete n.value,e.type!=="file"&&setTimeout(()=>{h.value!==null&&(h.value.value=p.value!==void 0?p.value:"")})}function P(){return n.hasOwnProperty("value")===!0?n.value:p.value!==void 0?p.value:""}$e(()=>{G()}),Ca(()=>{e.autogrow===!0&&q()}),Object.assign(X,{innerValue:p,fieldClass:i(()=>`q-${D.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:i(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:h,emitValue:S,hasValue:W,floatingLabel:i(()=>W.value===!0&&(e.type!=="number"||isNaN(p.value)===!1)||lt(e.displayValue)),getControl:()=>R(D.value===!0?"textarea":"input",{ref:h,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...f.value,...v.value,...e.type!=="file"?{value:P()}:B.value}),getShadowControl:()=>R("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(D.value===!0?"":" text-no-wrap")},[R("span",{class:"invisible"},P()),R("span",e.shadowText)])});const z=oa(X);return Object.assign(r,{focus:b,select:g,getNativeElement:()=>h.value}),Sa(r,"nativeEl",()=>h.value),z}});const mt="q-slider__marker-labels",Dn=e=>({value:e}),Kn=({marker:e})=>R("div",{key:e.value,style:e.style,class:e.classes},e.label),St=[34,37,40,33,39,38],jn={...gt,...bt,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:e=>e>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,hideSelection:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},Qn=["pan","update:modelValue","change"];function Hn({updateValue:e,updatePosition:a,getDragging:m,formAttrs:r}){const{props:t,emit:n,slots:l,proxy:{$q:u}}=ge(),c=ht(t,u),d=ia(r),w=ae(!1),h=ae(!1),k=ae(!1),p=ae(!1),M=i(()=>t.vertical===!0?"--v":"--h"),L=i(()=>"-"+(t.switchLabelSide===!0?"switched":"standard")),N=i(()=>t.vertical===!0?t.reverse===!0:t.reverse!==(u.lang.rtl===!0)),A=i(()=>isNaN(t.innerMin)===!0||t.innerMin<t.min?t.min:t.innerMin),F=i(()=>isNaN(t.innerMax)===!0||t.innerMax>t.max?t.max:t.innerMax),B=i(()=>t.disable!==!0&&t.readonly!==!0&&A.value<F.value),W=i(()=>(String(t.step).trim().split(".")[1]||"").length),O=i(()=>t.step===0?1:t.step),X=i(()=>B.value===!0?t.tabindex||0:-1),D=i(()=>t.max-t.min),ne=i(()=>F.value-A.value),v=i(()=>Be(A.value)),f=i(()=>Be(F.value)),b=i(()=>t.vertical===!0?N.value===!0?"bottom":"top":N.value===!0?"right":"left"),g=i(()=>t.vertical===!0?"height":"width"),T=i(()=>t.vertical===!0?"width":"height"),C=i(()=>t.vertical===!0?"vertical":"horizontal"),V=i(()=>{const s={role:"slider","aria-valuemin":A.value,"aria-valuemax":F.value,"aria-orientation":C.value,"data-step":t.step};return t.disable===!0?s["aria-disabled"]="true":t.readonly===!0&&(s["aria-readonly"]="true"),s}),S=i(()=>`q-slider q-slider${M.value} q-slider--${w.value===!0?"":"in"}active inline no-wrap `+(t.vertical===!0?"row":"column")+(t.disable===!0?" disabled":" q-slider--enabled"+(B.value===!0?" q-slider--editable":""))+(k.value==="both"?" q-slider--focus":"")+(t.label||t.labelAlways===!0?" q-slider--label":"")+(t.labelAlways===!0?" q-slider--label-always":"")+(c.value===!0?" q-slider--dark":"")+(t.dense===!0?" q-slider--dense q-slider--dense"+M.value:""));function q(s){const E="q-slider__"+s;return`${E} ${E}${M.value} ${E}${M.value}${L.value}`}function Z(s){const E="q-slider__"+s;return`${E} ${E}${M.value}`}const G=i(()=>{const s=t.selectionColor||t.color;return"q-slider__selection absolute"+(s!==void 0?` text-${s}`:"")}),P=i(()=>Z("markers")+" absolute overflow-hidden"),z=i(()=>Z("track-container")),o=i(()=>q("pin")),$=i(()=>q("label")),J=i(()=>q("text-container")),Q=i(()=>q("marker-labels-container")+(t.markerLabelsClass!==void 0?` ${t.markerLabelsClass}`:"")),H=i(()=>"q-slider__track relative-position no-outline"+(t.trackColor!==void 0?` bg-${t.trackColor}`:"")),se=i(()=>{const s={[T.value]:t.trackSize};return t.trackImg!==void 0&&(s.backgroundImage=`url(${t.trackImg}) !important`),s}),Mt=i(()=>"q-slider__inner absolute"+(t.innerTrackColor!==void 0?` bg-${t.innerTrackColor}`:"")),We=i(()=>{const s=f.value-v.value,E={[b.value]:`${100*v.value}%`,[g.value]:s===0?"2px":`${100*s}%`};return t.innerTrackImg!==void 0&&(E.backgroundImage=`url(${t.innerTrackImg}) !important`),E});function Tt(s){const{min:E,max:K,step:j}=t;let Y=E+s*(K-E);if(j>0){const re=(Y-E)%j;Y+=(Math.abs(re)>=j/2?(re<0?-1:1)*j:0)-re}return W.value>0&&(Y=parseFloat(Y.toFixed(W.value))),ue(Y,A.value,F.value)}function Be(s){return D.value===0?0:(s-t.min)/D.value}function $t(s,E){const K=Me(s),j=t.vertical===!0?ue((K.top-E.top)/E.height,0,1):ue((K.left-E.left)/E.width,0,1);return ue(N.value===!0?1-j:j,v.value,f.value)}const Ye=i(()=>Ma(t.markers)===!0?t.markers:O.value),Xe=i(()=>{const s=[],E=Ye.value,K=t.max;let j=t.min;do s.push(j),j+=E;while(j<K);return s.push(K),s}),Ze=i(()=>{const s=` ${mt}${M.value}-`;return mt+`${s}${t.switchMarkerLabelsSide===!0?"switched":"standard"}${s}${N.value===!0?"rtl":"ltr"}`}),Pe=i(()=>t.markerLabels===!1?null:Et(t.markerLabels).map((s,E)=>({index:E,value:s.value,label:s.label||s.value,classes:Ze.value+(s.classes!==void 0?" "+s.classes:""),style:{...Je(s.value),...s.style||{}}}))),Ge=i(()=>({markerList:Pe.value,markerMap:Bt.value,classes:Ze.value,getStyle:Je})),qt=i(()=>{const s=ne.value===0?"2px":100*Ye.value/ne.value;return{...We.value,backgroundSize:t.vertical===!0?`2px ${s}%`:`${s}% 2px`}});function Et(s){if(s===!1)return null;if(s===!0)return Xe.value.map(Dn);if(typeof s=="function")return Xe.value.map(K=>{const j=s(K);return Ve(j)===!0?{...j,value:K}:{value:K,label:j}});const E=({value:K})=>K>=t.min&&K<=t.max;return Array.isArray(s)===!0?s.map(K=>Ve(K)===!0?K:{value:K}).filter(E):Object.keys(s).map(K=>{const j=s[K],Y=Number(K);return Ve(j)===!0?{...j,value:Y}:{value:Y,label:j}}).filter(E)}function Je(s){return{[b.value]:`${100*(s-t.min)/D.value}%`}}const Bt=i(()=>{if(t.markerLabels===!1)return null;const s={};return Pe.value.forEach(E=>{s[E.value]=E}),s});function Pt(){if(l["marker-label-group"]!==void 0)return l["marker-label-group"](Ge.value);const s=l["marker-label"]||Kn;return Pe.value.map(E=>s({marker:E,...Ge.value}))}const At=i(()=>[[Xa,Ft,void 0,{[C.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function Ft(s){s.isFinal===!0?(p.value!==void 0&&(a(s.evt),s.touch===!0&&e(!0),p.value=void 0,n("pan","end")),w.value=!1,k.value=!1):s.isFirst===!0?(p.value=m(s.evt),a(s.evt),e(),w.value=!0,n("pan","start")):(a(s.evt),e())}function et(){k.value=!1}function Rt(s){a(s,m(s)),e(),h.value=!0,w.value=!0,document.addEventListener("mouseup",Ae,!0)}function Ae(){h.value=!1,w.value=!1,e(!0),et(),document.removeEventListener("mouseup",Ae,!0)}function Lt(s){a(s,m(s)),e(!0)}function Nt(s){St.includes(s.keyCode)&&e(!0)}function Vt(s){if(t.vertical===!0)return null;const E=u.lang.rtl!==t.reverse?1-s:s;return{transform:`translateX(calc(${2*E-1} * ${t.thumbSize} / 2 + ${50-100*E}%))`}}function It(s){const E=i(()=>h.value===!1&&(k.value===s.focusValue||k.value==="both")?" q-slider--focus":""),K=i(()=>`q-slider__thumb q-slider__thumb${M.value} q-slider__thumb${M.value}-${N.value===!0?"rtl":"ltr"} absolute non-selectable`+E.value+(s.thumbColor.value!==void 0?` text-${s.thumbColor.value}`:"")),j=i(()=>({width:t.thumbSize,height:t.thumbSize,[b.value]:`${100*s.ratio.value}%`,zIndex:k.value===s.focusValue?2:void 0})),Y=i(()=>s.labelColor.value!==void 0?` text-${s.labelColor.value}`:""),re=i(()=>Vt(s.ratio.value)),Fe=i(()=>"q-slider__text"+(s.labelTextColor.value!==void 0?` text-${s.labelTextColor.value}`:""));return()=>{const Re=[R("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[R("path",{d:t.thumbPath})]),R("div",{class:"q-slider__focus-ring fit"})];return(t.label===!0||t.labelAlways===!0)&&(Re.push(R("div",{class:o.value+" absolute fit no-pointer-events"+Y.value},[R("div",{class:$.value,style:{minWidth:t.thumbSize}},[R("div",{class:J.value,style:re.value},[R("span",{class:Fe.value},s.label.value)])])])),t.name!==void 0&&t.disable!==!0&&d(Re,"push")),R("div",{class:K.value,style:j.value,...s.getNodeData()},Re)}}function Ot(s,E,K,j){const Y=[];t.innerTrackColor!=="transparent"&&Y.push(R("div",{key:"inner",class:Mt.value,style:We.value})),t.selectionColor!=="transparent"&&Y.push(R("div",{key:"selection",class:G.value,style:s.value})),t.markers!==!1&&Y.push(R("div",{key:"marker",class:P.value,style:qt.value})),j(Y);const re=[Ta("div",{key:"trackC",class:z.value,tabindex:E.value,...K.value},[R("div",{class:H.value,style:se.value},Y)],"slide",B.value,()=>At.value)];if(t.markerLabels!==!1){const Fe=t.switchMarkerLabelsSide===!0?"unshift":"push";re[Fe](R("div",{key:"markerL",class:Q.value},Pt()))}return re}return $e(()=>{document.removeEventListener("mouseup",Ae,!0)}),{state:{active:w,focus:k,preventFocus:h,dragging:p,editable:B,classes:S,tabindex:X,attributes:V,step:O,decimals:W,trackLen:D,innerMin:A,innerMinRatio:v,innerMax:F,innerMaxRatio:f,positionProp:b,sizeProp:g,isReversed:N},methods:{onActivate:Rt,onMobileClick:Lt,onBlur:et,onKeyup:Nt,getContent:Ot,getThumbRenderFn:It,convertRatioToModel:Tt,convertModelToRatio:Be,getDraggingRatio:$t}}}const Un=()=>({});var Wn=ie({name:"QSlider",props:{...jn,modelValue:{required:!0,default:null,validator:e=>typeof e=="number"||e===null},labelValue:[String,Number]},emits:Qn,setup(e,{emit:a}){const{proxy:{$q:m}}=ge(),{state:r,methods:t}=Hn({updateValue:M,updatePosition:N,getDragging:L,formAttrs:ua(e)}),n=ae(null),l=ae(0),u=ae(0);function c(){u.value=e.modelValue===null?r.innerMin.value:ue(e.modelValue,r.innerMin.value,r.innerMax.value)}le(()=>`${e.modelValue}|${r.innerMin.value}|${r.innerMax.value}`,c),c();const d=i(()=>t.convertModelToRatio(u.value)),w=i(()=>r.active.value===!0?l.value:d.value),h=i(()=>{const B={[r.positionProp.value]:`${100*r.innerMinRatio.value}%`,[r.sizeProp.value]:`${100*(w.value-r.innerMinRatio.value)}%`};return e.selectionImg!==void 0&&(B.backgroundImage=`url(${e.selectionImg}) !important`),B}),k=t.getThumbRenderFn({focusValue:!0,getNodeData:Un,ratio:w,label:i(()=>e.labelValue!==void 0?e.labelValue:u.value),thumbColor:i(()=>e.thumbColor||e.color),labelColor:i(()=>e.labelColor),labelTextColor:i(()=>e.labelTextColor)}),p=i(()=>r.editable.value!==!0?{}:m.platform.is.mobile===!0?{onClick:t.onMobileClick}:{onMousedown:t.onActivate,onFocus:A,onBlur:t.onBlur,onKeydown:F,onKeyup:t.onKeyup});function M(B){u.value!==e.modelValue&&a("update:modelValue",u.value),B===!0&&a("change",u.value)}function L(){return n.value.getBoundingClientRect()}function N(B,W=r.dragging.value){const O=t.getDraggingRatio(B,W);u.value=t.convertRatioToModel(O),l.value=e.snap!==!0||e.step===0?O:t.convertModelToRatio(u.value)}function A(){r.focus.value=!0}function F(B){if(!St.includes(B.keyCode))return;Qe(B);const W=([34,33].includes(B.keyCode)?10:1)*r.step.value,O=([34,37,40].includes(B.keyCode)?-1:1)*(r.isReversed.value===!0?-1:1)*(e.vertical===!0?-1:1)*W;u.value=ue(parseFloat((u.value+O).toFixed(r.decimals.value)),r.innerMin.value,r.innerMax.value),M()}return()=>{const B=t.getContent(h,r.tabindex,p,W=>{W.push(k())});return R("div",{ref:n,class:r.classes.value+(e.modelValue===null?" q-slider--no-value":""),...r.attributes.value,"aria-valuenow":e.modelValue},B)}}});async function Yn(e,a,m="finalized"){const r=await e.getLatestBlockhash();return await e.confirmTransaction({blockhash:r.blockhash,lastValidBlockHeight:r.lastValidBlockHeight,signature:a})}async function Xn(e,a){return a*Math.pow(10,await Zn(e))}async function Zn(e){var m,r;let a=((m=y().token_list.find(t=>t.address==e.toString()))==null?void 0:m.decimals)??0;return a==0&&(a=$a().raw.find(t=>t.mint==e.toString())?0:(r=(await y().connection.getParsedAccountInfo(e)).value)==null?void 0:r.data.parsed.info.decimals),a}const Gn=Ee({__name:"ExchangeEscrowButton",props:["escrow_address","exchange_amount"],setup(e){const a=e,m=qa();async function r(){const{pg_escrow:t}=Fa();let n=m.notify({group:!1,timeout:0,spinner:!0,message:"Sending TX..."});try{const l=await t.value.account.escrow.fetch(a.escrow_address),u=l.seed,c=oe.findProgramAddressSync([ke.Buffer.from("auth")],t.value.programId)[0],d=l.maker,w=oe.findProgramAddressSync([ke.Buffer.from("escrow"),d.toBytes(),u.toArrayLike(ke.Buffer).reverse()],t.value.programId)[0],h=oe.findProgramAddressSync([ke.Buffer.from("vault"),w.toBuffer()],t.value.programId)[0],k=Oe(new oe(l.requestToken),l.maker,void 0,we,_e),p=Oe(new oe(l.depositToken),Ie().publicKey.value,void 0,we,_e),M=Oe(new oe(l.requestToken),Ie().publicKey.value,void 0,we,_e),L=await Xn(l.depositToken,a.exchange_amount);console.log(`exchange_amount: ${L}`);let N=null,A=null,F=null;me().is_whitelisted&&(N=Ea,A=me().whitelist_account,F=me().entry_account);let B=await t.value.methods.exchange(new Ba(L)).accounts({taker:Ie().publicKey.value,takerAta:M,takerReceiveAta:p,requestToken:l.requestToken,maker:l.maker,makerReceiveAta:k,depositToken:l.depositToken,auth:c,escrow:w,vault:h,tokenProgram:we,associatedTokenProgram:_e,systemProgram:Pa.programId,fee:Aa,whitelistProgram:N,whitelist:A,entry:F});console.log(B),B=await B.rpc(),console.log(`TX_Signature = ${B}`),await Yn(y().connection,B),n({type:"positive",icon:"done",spinner:!1,message:"Transaction confirmed!",timeout:2500}),await y().load_escrow(a.escrow_address)}catch(l){console.error(l),n({type:"negative",icon:"error",spinner:!1,message:l.toString(),timeout:5e3})}}return(t,n)=>(fe(),Te(ye,{disable:e.exchange_amount==0,class:"full-width",color:"primary",label:"Take offer","icon-right":"send",onClick:n[0]||(n[0]=l=>{r().then(()=>{console.info("build_tx executed")})})},null,8,["disable"]))}}),Jn={class:"row"},el=["src"],tl=["src"],al={class:"row items-center q-gutter-x-xs"},nl=_("p",null,"/",-1),ll=_("p",{class:"col"},"Price per Unit",-1),ol={class:"text-h4"},sl={class:"col"},rl={class:"row items-center"},il=["src"],ul={class:"q-px-sm row"},cl={class:"row q-gutter-x-xs items-center"},dl={class:"col text-subtitle2 text-right"},vl=_("p",{style:{"font-size":"12px"}},"Available",-1),fl={class:"row items-center"},ml=["src"],gl={class:"text-right q-mt-sm text-weight-thin"},wl=Ee({__name:"EscrowTakeView",setup(e){const a=i(()=>y().token_list.find(u=>{var c;return u.address==((c=y().escrow_selected)==null?void 0:c.account.depositToken.toString())})),m=i(()=>y().token_list.find(u=>{var c;return u.address==((c=y().escrow_selected)==null?void 0:c.account.requestToken.toString())})),r=i(()=>{var u,c;return parseInt(((((u=y().escrow_selected)==null?void 0:u.account.tokensDepositRemaining.toNumber())??0)*Math.pow(10,-(((c=a.value)==null?void 0:c.decimals)??0))).toFixed(2))});le(()=>r.value,()=>{t.value=r.value});const t=ae(r.value),n=i(()=>{var u;return t.value*(((u=y().escrow_selected)==null?void 0:u.account.price)??0)});function l(u){var c,d;t.value=(((c=y().escrow_selected)==null?void 0:c.account.tokensDepositRemaining.toNumber())??0)*Math.pow(10,-(((d=a.value)==null?void 0:d.decimals)??0))*u}return(u,c)=>(fe(),Te(Le,{flat:""},{default:te(()=>[I(Se,{class:"row"},{default:te(()=>{var d,w,h;return[_("div",Jn,[I(Ce,{size:"40px"},{default:te(()=>{var k;return[_("img",{src:(k=a.value)==null?void 0:k.logoURI},null,8,el)]}),_:1}),I(Ce,{size:"40px",class:"overlapping",style:`right: ${15}px`},{default:te(()=>{var k;return[_("img",{src:(k=m.value)==null?void 0:k.logoURI},null,8,tl)]}),_:1})]),_("div",al,[_("b",null,ee((d=a.value)==null?void 0:d.symbol),1),nl,_("b",null,ee((w=m.value)==null?void 0:w.symbol),1)]),I(ja),I(Ra,{size:"sm",name:"balance",color:(h=x(y)().escrow_selected)!=null&&h.account.allowPartialFill?"purple":"grey"},{default:te(()=>[I(Nn,null,{default:te(()=>{var k;return[La("Partial fill "+ee((k=x(y)().escrow_selected)!=null&&k.account.allowPartialFill?"":"NOT ")+" allowed",1)]}),_:1})]),_:1},8,["color"])]}),_:1}),I(Se,{class:"row q-py-none items-center"},{default:te(()=>{var d;return[ll,_("p",ol,ee((d=x(y)().escrow_selected)==null?void 0:d.account.price),1)]}),_:1}),I(Se,{class:"q-gutter-y-md"},{default:te(()=>[I(Le,{bordered:"",class:"q-pa-sm bg-secondary",flat:""},{default:te(()=>{var d,w,h,k,p,M,L,N;return[_("div",null,[I(ce,{outline:"",label:"BUYING",color:"green",rounded:""})]),_("div",sl,[_("div",rl,[I(ft,{disable:!((d=x(y)().escrow_selected)!=null&&d.account.allowPartialFill),dense:"",class:"col text-h6",borderless:"",modelValue:t.value,"onUpdate:modelValue":c[0]||(c[0]=A=>t.value=A),label:"Amount",type:"number"},null,8,["disable","modelValue"]),I(Ce,{size:"30px"},{default:te(()=>{var A;return[_("img",{src:(A=a.value)==null?void 0:A.logoURI},null,8,il)]}),_:1})]),I(Wn,{class:"q-px-sm",dense:"",modelValue:t.value,"onUpdate:modelValue":c[1]||(c[1]=A=>t.value=A),disable:!((w=x(y)().escrow_selected)!=null&&w.account.allowPartialFill),min:0,max:((h=x(y)().escrow_selected)==null?void 0:h.account.tokensDepositRemaining.toNumber())*Math.pow(10,-((k=a.value)==null?void 0:k.decimals)),color:"blue","track-size":"10px","thumb-color":"black",markers:""},null,8,["modelValue","disable","max"]),_("div",ul,[I(ye,{disable:!((p=x(y)().escrow_selected)!=null&&p.account.allowPartialFill),dense:"",flat:"",class:"col",label:"25%",onClick:c[2]||(c[2]=A=>l(.25))},null,8,["disable"]),I(ye,{disable:!((M=x(y)().escrow_selected)!=null&&M.account.allowPartialFill),dense:"",flat:"",class:"col",label:"50%",onClick:c[3]||(c[3]=A=>l(.5))},null,8,["disable"]),I(ye,{disable:!((L=x(y)().escrow_selected)!=null&&L.account.allowPartialFill),dense:"",flat:"",class:"col",label:"75%",onClick:c[4]||(c[4]=A=>l(.75))},null,8,["disable"]),I(ye,{disable:!((N=x(y)().escrow_selected)!=null&&N.account.allowPartialFill),dense:"",flat:"",class:"col",label:"Max",onClick:c[5]||(c[5]=A=>l(1))},null,8,["disable"])])])]}),_:1}),I(Le,{disabled:"",bordered:"",class:"q-pa-sm bg-secondary",flat:""},{default:te(()=>{var d,w;return[_("div",cl,[I(ce,{outline:"",label:"SELLING",color:"red",rounded:""}),_("p",dl,ee((((d=x(me)().accounts_mapped.find(h=>{var k;return h.mint==((k=x(y)().escrow_selected)==null?void 0:k.account.requestToken.toString())}))==null?void 0:d.amount)*10**-((w=x(me)().accounts_mapped.find(h=>{var k;return h.mint==((k=x(y)().escrow_selected)==null?void 0:k.account.requestToken.toString())}))==null?void 0:w.decimals)).toFixed(2)),1),vl]),_("div",fl,[I(ft,{dense:"",class:"col text-h6",borderless:"",modelValue:n.value,"onUpdate:modelValue":c[6]||(c[6]=h=>n.value=h),label:"Amount",type:"number"},null,8,["modelValue"]),I(Ce,{size:"30px",class:"overlapping"},{default:te(()=>{var h;return[_("img",{src:(h=m.value)==null?void 0:h.logoURI},null,8,ml)]}),_:1})])]}),_:1})]),_:1}),I(Se,{class:""},{default:te(()=>{var d;return[I(Gn,{escrow_address:(d=x(y)().escrow_selected)==null?void 0:d.publicKey,exchange_amount:t.value},null,8,["escrow_address","exchange_amount"]),_("p",gl," Fee: "+ee(x(me)().is_whitelisted?.006/2:.006)+"sol ",1)]}),_:1})]),_:1}))}});export{ja as Q,Xa as T,wl as _,Ha as a,Se as b,kl as c,ce as d,Nn as e,tn as f,Oe as g,ut as h,ft as i,ct as s,Yn as w};
