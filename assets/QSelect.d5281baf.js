import{t as lt,x as Et,A as Ot,z as zt,h as dl,u as Ft,i as Tt,v as wt,j as fl,a as Mt,k as It,b as Lt,l as Rt,m as vl,n as ml,c as Ht,o as Pt,r as kt,s as hl,p as xt,q as gl,C as Dt,H as Sl,w as yl,y as bl,B as Ct,I as qt,D as wl}from"./use-key-composition.94c5eadc.js";import{D as Ie,bk as Vt,bl as kl,t as fe,a$ as xl,b0 as Cl,A as M,u as d,v as w,a0 as nt,aD as se,E as ql,F as Ee,w as Ne,aE as Vl,aF as Bl,J as _l,ak as Ke,aG as Al,aZ as El,av as pt,C as oe,aB as Ol,Q as zl,at as et,bm as Kt,O as Fl,H as de,bi as Tl,bn as Ml,b1 as Il,b2 as Ll,bj as Rl,bo as Hl,az as Je,a_ as Te,aA as Be,aK as Pl,N as Dl}from"./index.5faffde9.js";import{u as ut,a as it}from"./QCard.e3e21e4d.js";let $e=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const r=document.createElement("div");Object.assign(r.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(r),e.scrollLeft=-1e3,$e=e.scrollLeft>=0,e.remove()}function pl(e,r,i){let m;function V(){m!==void 0&&(Vt.remove(m),m=void 0)}return Ie(()=>{e.value===!0&&V()}),{removeFromHistory:V,addToHistory(){m={condition:()=>i.value===!0,handler:r},Vt.add(m)}}}function Kl(){let e;return{preventBodyScroll(r){r!==e&&(e!==void 0||r===!0)&&(e=r,kl(r))}}}var $l=fe({name:"QItem",props:{...ut,...xl,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(e,{slots:r,emit:i}){const{proxy:{$q:m}}=Ee(),V=it(e,m),{hasLink:u,linkAttrs:A,linkClass:y,linkTag:S,navigateOnClick:_}=Cl(),c=M(null),h=M(null),C=d(()=>e.clickable===!0||u.value===!0||e.tag==="label"),B=d(()=>e.disable!==!0&&C.value===!0),E=d(()=>"q-item q-item-type row no-wrap"+(e.dense===!0?" q-item--dense":"")+(V.value===!0?" q-item--dark":"")+(u.value===!0&&e.active===null?y.value:e.active===!0?` q-item--active${e.activeClass!==void 0?` ${e.activeClass}`:""}`:"")+(e.disable===!0?" disabled":"")+(B.value===!0?" q-item--clickable q-link cursor-pointer "+(e.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(e.focused===!0?" q-manual-focusable--focused":""):"")),P=d(()=>{if(e.insetLevel===void 0)return null;const q=m.lang.rtl===!0?"Right":"Left";return{["padding"+q]:16+e.insetLevel*56+"px"}});function g(q){B.value===!0&&(h.value!==null&&(q.qKeyEvent!==!0&&document.activeElement===c.value?h.value.focus():document.activeElement===h.value&&c.value.focus()),_(q))}function H(q){if(B.value===!0&&nt(q,13)===!0){se(q),q.qKeyEvent=!0;const O=new MouseEvent("click",q);O.qKeyEvent=!0,c.value.dispatchEvent(O)}i("keyup",q)}function j(){const q=ql(r.default,[]);return B.value===!0&&q.unshift(w("div",{class:"q-focus-helper",tabindex:-1,ref:h})),q}return()=>{const q={ref:c,class:E.value,style:P.value,role:"listitem",onClick:g,onKeyup:H};return B.value===!0?(q.tabindex=e.tabindex||"0",Object.assign(q,A.value)):C.value===!0&&(q["aria-disabled"]="true"),w(S.value,q,j())}}}),jl=fe({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(e,{slots:r}){const i=d(()=>`q-item__section column q-item__section--${e.avatar===!0||e.side===!0||e.thumbnail===!0?"side":"main"}`+(e.top===!0?" q-item__section--top justify-start":" justify-center")+(e.avatar===!0?" q-item__section--avatar":"")+(e.thumbnail===!0?" q-item__section--thumbnail":"")+(e.noWrap===!0?" q-item__section--nowrap":""));return()=>w("div",{class:i.value},Ne(r.default))}}),Nl=fe({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:r}){const i=d(()=>parseInt(e.lines,10)),m=d(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(i.value===1?" ellipsis":"")),V=d(()=>e.lines!==void 0&&i.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":i.value}:null);return()=>w("div",{style:V.value,class:m.value},Ne(r.default))}}),Ql=fe({name:"QField",inheritAttrs:!1,props:lt,emits:Et,setup(){return Ot(zt())}});const Wl={xs:8,sm:10,md:14,lg:20,xl:24};var Ul=fe({name:"QChip",props:{...ut,...Vl,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:r,emit:i}){const{proxy:{$q:m}}=Ee(),V=it(e,m),u=Bl(e,Wl),A=d(()=>e.selected===!0||e.icon!==void 0),y=d(()=>e.selected===!0?e.iconSelected||m.iconSet.chip.selected:e.icon),S=d(()=>e.iconRemove||m.iconSet.chip.remove),_=d(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),c=d(()=>{const g=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(g?` text-${g} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(_.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(V.value===!0?" q-chip--dark q-dark":"")}),h=d(()=>{const g=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},H={...g,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||m.lang.label.remove};return{chip:g,remove:H}});function C(g){g.keyCode===13&&B(g)}function B(g){e.disable||(i("update:selected",!e.selected),i("click",g))}function E(g){(g.keyCode===void 0||g.keyCode===13)&&(se(g),e.disable===!1&&(i("update:modelValue",!1),i("remove")))}function P(){const g=[];_.value===!0&&g.push(w("div",{class:"q-focus-helper"})),A.value===!0&&g.push(w(Ke,{class:"q-chip__icon q-chip__icon--left",name:y.value}));const H=e.label!==void 0?[w("div",{class:"ellipsis"},[e.label])]:void 0;return g.push(w("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},Al(r.default,H))),e.iconRight&&g.push(w(Ke,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&g.push(w(Ke,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:S.value,...h.value.remove,onClick:E,onKeyup:E})),g}return()=>{if(e.modelValue===!1)return;const g={class:c.value,style:u.value};return _.value===!0&&Object.assign(g,h.value.chip,{onClick:B,onKeyup:C}),_l("div",g,P(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[El,e.ripple]])}}});const Se=[];let Ae;function Xl(e){Ae=e.keyCode===27}function Yl(){Ae===!0&&(Ae=!1)}function Gl(e){Ae===!0&&(Ae=!1,nt(e,27)===!0&&Se[Se.length-1](e))}function $t(e){window[e]("keydown",Xl),window[e]("blur",Yl),window[e]("keyup",Gl),Ae=!1}function jt(e){pt.is.desktop===!0&&(Se.push(e),Se.length===1&&$t("addEventListener"))}function je(e){const r=Se.indexOf(e);r>-1&&(Se.splice(r,1),Se.length===0&&$t("removeEventListener"))}const ye=[];function Nt(e){ye[ye.length-1](e)}function Qt(e){pt.is.desktop===!0&&(ye.push(e),ye.length===1&&document.body.addEventListener("focusin",Nt))}function tt(e){const r=ye.indexOf(e);r>-1&&(ye.splice(r,1),ye.length===0&&document.body.removeEventListener("focusin",Nt))}var Jl=fe({name:"QMenu",inheritAttrs:!1,props:{...dl,...Ft,...ut,...Tt,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:wt},self:{type:String,validator:wt},offset:{type:Array,validator:fl},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...Mt,"click","escapeKey"],setup(e,{slots:r,emit:i,attrs:m}){let V=null,u,A,y;const S=Ee(),{proxy:_}=S,{$q:c}=_,h=M(null),C=M(!1),B=d(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),E=it(e,c),{registerTick:P,removeTick:g}=It(),{registerTimeout:H}=Lt(),{transitionProps:j,transitionStyle:q}=Rt(e),{localScrollTarget:O,changeScrollEvent:ce,unconfigureScrollTarget:I}=vl(e,k),{anchorEl:D,canShow:G}=ml({showing:C}),{hide:te}=Ht({showing:C,canShow:G,handleShow:Z,handleHide:l,hideOnRouteChange:B,processOnMount:!0}),{showPortal:U,hidePortal:X,renderPortal:K}=Pt(S,h,L,"menu"),J={anchorEl:D,innerRef:h,onClickOutside(n){if(e.persistent!==!0&&C.value===!0)return te(n),(n.type==="touchstart"||n.target.classList.contains("q-dialog__backdrop"))&&se(n),!0}},ae=d(()=>xt(e.anchor||(e.cover===!0?"center middle":"bottom start"),c.lang.rtl)),le=d(()=>e.cover===!0?ae.value:xt(e.self||"top start",c.lang.rtl)),p=d(()=>(e.square===!0?" q-menu--square":"")+(E.value===!0?" q-menu--dark q-dark":"")),re=d(()=>e.autoClose===!0?{onClick:z}:{}),Y=d(()=>C.value===!0&&e.persistent!==!0);oe(Y,n=>{n===!0?(jt(v),gl(J)):(je(v),kt(J))});function Q(){Dt(()=>{let n=h.value;n&&n.contains(document.activeElement)!==!0&&(n=n.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||n.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||n.querySelector("[autofocus], [data-autofocus]")||n,n.focus({preventScroll:!0}))})}function Z(n){if(V=e.noRefocus===!1?document.activeElement:null,Qt(f),U(),k(),u=void 0,n!==void 0&&(e.touchPosition||e.contextMenu)){const $=Ol(n);if($.left!==void 0){const{top:ne,left:be}=D.value.getBoundingClientRect();u={left:$.left-be,top:$.top-ne}}}A===void 0&&(A=oe(()=>c.screen.width+"|"+c.screen.height+"|"+e.self+"|"+e.anchor+"|"+c.lang.rtl,b)),e.noFocus!==!0&&document.activeElement.blur(),P(()=>{b(),e.noFocus!==!0&&Q()}),H(()=>{c.platform.is.ios===!0&&(y=e.autoClose,h.value.click()),b(),U(!0),i("show",n)},e.transitionDuration)}function l(n){g(),X(),a(!0),V!==null&&(n===void 0||n.qClickOutside!==!0)&&(((n&&n.type.indexOf("key")===0?V.closest('[tabindex]:not([tabindex^="-"])'):void 0)||V).focus(),V=null),H(()=>{X(!0),i("hide",n)},e.transitionDuration)}function a(n){u=void 0,A!==void 0&&(A(),A=void 0),(n===!0||C.value===!0)&&(tt(f),I(),kt(J),je(v)),n!==!0&&(V=null)}function k(){(D.value!==null||e.scrollTarget!==void 0)&&(O.value=zl(D.value,e.scrollTarget),ce(O.value,b))}function z(n){y!==!0?(Sl(_,n),i("click",n)):y=!1}function f(n){Y.value===!0&&e.noFocus!==!0&&Kt(h.value,n.target)!==!0&&Q()}function v(n){i("escapeKey"),te(n)}function b(){hl({targetEl:h.value,offset:e.offset,anchorEl:D.value,anchorOrigin:ae.value,selfOrigin:le.value,absoluteOffset:u,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function L(){return w(et,j.value,()=>C.value===!0?w("div",{role:"menu",...m,ref:h,tabindex:-1,class:["q-menu q-position-engine scroll"+p.value,m.class],style:[m.style,q.value],...re.value},Ne(r.default)):null)}return Ie(a),Object.assign(_,{focus:Q,updatePosition:b}),K}});let pe=0;const Zl={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},Bt={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]};var en=fe({name:"QDialog",inheritAttrs:!1,props:{...Ft,...Tt,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:e=>e==="standard"||["top","bottom","left","right"].includes(e)}},emits:[...Mt,"shake","click","escapeKey"],setup(e,{slots:r,emit:i,attrs:m}){const V=Ee(),u=M(null),A=M(!1),y=M(!1);let S=null,_=null,c,h;const C=d(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:B}=Kl(),{registerTimeout:E}=Lt(),{registerTick:P,removeTick:g}=It(),{transitionProps:H,transitionStyle:j}=Rt(e,()=>Bt[e.position][0],()=>Bt[e.position][1]),{showPortal:q,hidePortal:O,portalIsAccessible:ce,renderPortal:I}=Pt(V,u,z,"dialog"),{hide:D}=Ht({showing:A,hideOnRouteChange:C,handleShow:ae,handleHide:le,processOnMount:!0}),{addToHistory:G,removeFromHistory:te}=pl(A,D,C),U=d(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${Zl[e.position]}`+(y.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),X=d(()=>A.value===!0&&e.seamless!==!0),K=d(()=>e.autoClose===!0?{onClick:l}:{}),J=d(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${X.value===!0?"modal":"seamless"}`,m.class]);oe(()=>e.maximized,f=>{A.value===!0&&Z(f)}),oe(X,f=>{B(f),f===!0?(Qt(k),jt(Y)):(tt(k),je(Y))});function ae(f){G(),_=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,Z(e.maximized),q(),y.value=!0,e.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),P(p)):g(),E(()=>{if(V.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:v,bottom:b}=document.activeElement.getBoundingClientRect(),{innerHeight:L}=window,n=window.visualViewport!==void 0?window.visualViewport.height:L;v>0&&b>n/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-n,b>=L?1/0:Math.ceil(document.scrollingElement.scrollTop+b-n/2))),document.activeElement.scrollIntoView()}h=!0,u.value.click(),h=!1}q(!0),y.value=!1,i("show",f)},e.transitionDuration)}function le(f){g(),te(),Q(!0),y.value=!0,O(),_!==null&&(((f&&f.type.indexOf("key")===0?_.closest('[tabindex]:not([tabindex^="-"])'):void 0)||_).focus(),_=null),E(()=>{O(!0),y.value=!1,i("hide",f)},e.transitionDuration)}function p(f){Dt(()=>{let v=u.value;v===null||v.contains(document.activeElement)===!0||(v=(f!==""?v.querySelector(f):null)||v.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||v.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||v.querySelector("[autofocus], [data-autofocus]")||v,v.focus({preventScroll:!0}))})}function re(f){f&&typeof f.focus=="function"?f.focus({preventScroll:!0}):p(),i("shake");const v=u.value;v!==null&&(v.classList.remove("q-animate--scale"),v.classList.add("q-animate--scale"),S!==null&&clearTimeout(S),S=setTimeout(()=>{S=null,u.value!==null&&(v.classList.remove("q-animate--scale"),p())},170))}function Y(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&re():(i("escapeKey"),D()))}function Q(f){S!==null&&(clearTimeout(S),S=null),(f===!0||A.value===!0)&&(Z(!1),e.seamless!==!0&&(B(!1),tt(k),je(Y))),f!==!0&&(_=null)}function Z(f){f===!0?c!==!0&&(pe<1&&document.body.classList.add("q-body--dialog"),pe++,c=!0):c===!0&&(pe<2&&document.body.classList.remove("q-body--dialog"),pe--,c=!1)}function l(f){h!==!0&&(D(f),i("click",f))}function a(f){e.persistent!==!0&&e.noBackdropDismiss!==!0?D(f):e.noShake!==!0&&re()}function k(f){e.allowFocusOutside!==!0&&ce.value===!0&&Kt(u.value,f.target)!==!0&&p('[tabindex]:not([tabindex="-1"])')}Object.assign(V.proxy,{focus:p,shake:re,__updateRefocusTarget(f){_=f||null}}),Ie(Q);function z(){return w("div",{role:"dialog","aria-modal":X.value===!0?"true":"false",...m,class:J.value},[w(et,{name:"q-transition--fade",appear:!0},()=>X.value===!0?w("div",{class:"q-dialog__backdrop fixed-full",style:j.value,"aria-hidden":"true",tabindex:-1,onClick:a}):null),w(et,H.value,()=>A.value===!0?w("div",{ref:u,class:U.value,style:j.value,tabindex:-1,...K.value},Ne(r.default)):null)])}return I}});const ee=1e3,tn=["start","center","end","start-force","center-force","end-force"],Wt=Array.prototype.filter,ln=window.getComputedStyle(document.body).overflowAnchor===void 0?Fl:function(e,r){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const i=e.children||[];Wt.call(i,V=>V.dataset&&V.dataset.qVsAnchor!==void 0).forEach(V=>{delete V.dataset.qVsAnchor});const m=i[r];m&&m.dataset&&(m.dataset.qVsAnchor="")}))};function _e(e,r){return e+r}function Ze(e,r,i,m,V,u,A,y){const S=e===window?document.scrollingElement||document.documentElement:e,_=V===!0?"offsetWidth":"offsetHeight",c={scrollStart:0,scrollViewSize:-A-y,scrollMaxSize:0,offsetStart:-A,offsetEnd:-y};if(V===!0?(e===window?(c.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,c.scrollViewSize+=document.documentElement.clientWidth):(c.scrollStart=S.scrollLeft,c.scrollViewSize+=S.clientWidth),c.scrollMaxSize=S.scrollWidth,u===!0&&(c.scrollStart=($e===!0?c.scrollMaxSize-c.scrollViewSize:0)-c.scrollStart)):(e===window?(c.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,c.scrollViewSize+=document.documentElement.clientHeight):(c.scrollStart=S.scrollTop,c.scrollViewSize+=S.clientHeight),c.scrollMaxSize=S.scrollHeight),i!==null)for(let h=i.previousElementSibling;h!==null;h=h.previousElementSibling)h.classList.contains("q-virtual-scroll--skip")===!1&&(c.offsetStart+=h[_]);if(m!==null)for(let h=m.nextElementSibling;h!==null;h=h.nextElementSibling)h.classList.contains("q-virtual-scroll--skip")===!1&&(c.offsetEnd+=h[_]);if(r!==e){const h=S.getBoundingClientRect(),C=r.getBoundingClientRect();V===!0?(c.offsetStart+=C.left-h.left,c.offsetEnd-=C.width):(c.offsetStart+=C.top-h.top,c.offsetEnd-=C.height),e!==window&&(c.offsetStart+=c.scrollStart),c.offsetEnd+=c.scrollMaxSize-c.offsetStart}return c}function _t(e,r,i,m){r==="end"&&(r=(e===window?document.body:e)[i===!0?"scrollWidth":"scrollHeight"]),e===window?i===!0?(m===!0&&(r=($e===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-r),window.scrollTo(r,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,r):i===!0?(m===!0&&(r=($e===!0?e.scrollWidth-e.offsetWidth:0)-r),e.scrollLeft=r):e.scrollTop=r}function Me(e,r,i,m){if(i>=m)return 0;const V=r.length,u=Math.floor(i/ee),A=Math.floor((m-1)/ee)+1;let y=e.slice(u,A).reduce(_e,0);return i%ee!==0&&(y-=r.slice(u*ee,i).reduce(_e,0)),m%ee!==0&&m!==V&&(y-=r.slice(m,A*ee).reduce(_e,0)),y}const Ut={virtualScrollSliceSize:{type:[Number,String],default:null},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},dn=Object.keys(Ut),nn={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...Ut};function un({virtualScrollLength:e,getVirtualScrollTarget:r,getVirtualScrollEl:i,virtualScrollItemSizeComputed:m}){const V=Ee(),{props:u,emit:A,proxy:y}=V,{$q:S}=y;let _,c,h,C=[],B;const E=M(0),P=M(0),g=M({}),H=M(null),j=M(null),q=M(null),O=M({from:0,to:0}),ce=d(()=>u.tableColspan!==void 0?u.tableColspan:100);m===void 0&&(m=d(()=>u.virtualScrollItemSize));const I=d(()=>m.value+";"+u.virtualScrollHorizontal),D=d(()=>I.value+";"+u.virtualScrollSliceRatioBefore+";"+u.virtualScrollSliceRatioAfter);oe(D,()=>{p()}),oe(I,G);function G(){le(c,!0)}function te(l){le(l===void 0?c:l)}function U(l,a){const k=r();if(k==null||k.nodeType===8)return;const z=Ze(k,i(),H.value,j.value,u.virtualScrollHorizontal,S.lang.rtl,u.virtualScrollStickySizeStart,u.virtualScrollStickySizeEnd);h!==z.scrollViewSize&&p(z.scrollViewSize),K(k,z,Math.min(e.value-1,Math.max(0,parseInt(l,10)||0)),0,tn.indexOf(a)>-1?a:c>-1&&l>c?"end":"start")}function X(){const l=r();if(l==null||l.nodeType===8)return;const a=Ze(l,i(),H.value,j.value,u.virtualScrollHorizontal,S.lang.rtl,u.virtualScrollStickySizeStart,u.virtualScrollStickySizeEnd),k=e.value-1,z=a.scrollMaxSize-a.offsetStart-a.offsetEnd-P.value;if(_===a.scrollStart)return;if(a.scrollMaxSize<=0){K(l,a,0,0);return}h!==a.scrollViewSize&&p(a.scrollViewSize),J(O.value.from);const f=Math.floor(a.scrollMaxSize-Math.max(a.scrollViewSize,a.offsetEnd)-Math.min(B[k],a.scrollViewSize/2));if(f>0&&Math.ceil(a.scrollStart)>=f){K(l,a,k,a.scrollMaxSize-a.offsetEnd-C.reduce(_e,0));return}let v=0,b=a.scrollStart-a.offsetStart,L=b;if(b<=z&&b+a.scrollViewSize>=E.value)b-=E.value,v=O.value.from,L=b;else for(let n=0;b>=C[n]&&v<k;n++)b-=C[n],v+=ee;for(;b>0&&v<k;)b-=B[v],b>-a.scrollViewSize?(v++,L=b):L=B[v]+b;K(l,a,v,L)}function K(l,a,k,z,f){const v=typeof f=="string"&&f.indexOf("-force")>-1,b=v===!0?f.replace("-force",""):f,L=b!==void 0?b:"start";let n=Math.max(0,k-g.value[L]),$=n+g.value.total;$>e.value&&($=e.value,n=Math.max(0,$-g.value.total)),_=a.scrollStart;const ne=n!==O.value.from||$!==O.value.to;if(ne===!1&&b===void 0){Y(k);return}const{activeElement:be}=document,ue=q.value;ne===!0&&ue!==null&&ue!==be&&ue.contains(be)===!0&&(ue.addEventListener("focusout",ae),setTimeout(()=>{ue!==null&&ue.removeEventListener("focusout",ae)})),ln(ue,k-n);const Le=b!==void 0?B.slice(n,k).reduce(_e,0):0;if(ne===!0){const ve=$>=O.value.from&&n<=O.value.to?O.value.to:$;O.value={from:n,to:ve},E.value=Me(C,B,0,n),P.value=Me(C,B,$,e.value),requestAnimationFrame(()=>{O.value.to!==$&&_===a.scrollStart&&(O.value={from:O.value.from,to:$},P.value=Me(C,B,$,e.value))})}requestAnimationFrame(()=>{if(_!==a.scrollStart)return;ne===!0&&J(n);const ve=B.slice(n,k).reduce(_e,0),me=ve+a.offsetStart+E.value,Re=me+B[k];let Oe=me+z;if(b!==void 0){const Qe=ve-Le,ze=a.scrollStart+Qe;Oe=v!==!0&&ze<me&&Re<ze+a.scrollViewSize?ze:b==="end"?Re-a.scrollViewSize:me-(b==="start"?0:Math.round((a.scrollViewSize-B[k])/2))}_=Oe,_t(l,Oe,u.virtualScrollHorizontal,S.lang.rtl),Y(k)})}function J(l){const a=q.value;if(a){const k=Wt.call(a.children,n=>n.classList&&n.classList.contains("q-virtual-scroll--skip")===!1),z=k.length,f=u.virtualScrollHorizontal===!0?n=>n.getBoundingClientRect().width:n=>n.offsetHeight;let v=l,b,L;for(let n=0;n<z;){for(b=f(k[n]),n++;n<z&&k[n].classList.contains("q-virtual-scroll--with-prev")===!0;)b+=f(k[n]),n++;L=b-B[v],L!==0&&(B[v]+=L,C[Math.floor(v/ee)]+=L),v++}}}function ae(){q.value!==null&&q.value!==void 0&&q.value.focus()}function le(l,a){const k=1*m.value;(a===!0||Array.isArray(B)===!1)&&(B=[]);const z=B.length;B.length=e.value;for(let v=e.value-1;v>=z;v--)B[v]=k;const f=Math.floor((e.value-1)/ee);C=[];for(let v=0;v<=f;v++){let b=0;const L=Math.min((v+1)*ee,e.value);for(let n=v*ee;n<L;n++)b+=B[n];C.push(b)}c=-1,_=void 0,E.value=Me(C,B,0,O.value.from),P.value=Me(C,B,O.value.to,e.value),l>=0?(J(O.value.from),de(()=>{U(l)})):Q()}function p(l){if(l===void 0&&typeof window<"u"){const b=r();b!=null&&b.nodeType!==8&&(l=Ze(b,i(),H.value,j.value,u.virtualScrollHorizontal,S.lang.rtl,u.virtualScrollStickySizeStart,u.virtualScrollStickySizeEnd).scrollViewSize)}h=l;const a=parseFloat(u.virtualScrollSliceRatioBefore)||0,k=parseFloat(u.virtualScrollSliceRatioAfter)||0,z=1+a+k,f=l===void 0||l<=0?1:Math.ceil(l/m.value),v=Math.max(1,f,Math.ceil((u.virtualScrollSliceSize>0?u.virtualScrollSliceSize:10)/z));g.value={total:Math.ceil(v*z),start:Math.ceil(v*a),center:Math.ceil(v*(.5+a)),end:Math.ceil(v*(1+a)),view:f}}function re(l,a){const k=u.virtualScrollHorizontal===!0?"width":"height",z={["--q-virtual-scroll-item-"+k]:m.value+"px"};return[l==="tbody"?w(l,{class:"q-virtual-scroll__padding",key:"before",ref:H},[w("tr",[w("td",{style:{[k]:`${E.value}px`,...z},colspan:ce.value})])]):w(l,{class:"q-virtual-scroll__padding",key:"before",ref:H,style:{[k]:`${E.value}px`,...z}}),w(l,{class:"q-virtual-scroll__content",key:"content",ref:q,tabindex:-1},a.flat()),l==="tbody"?w(l,{class:"q-virtual-scroll__padding",key:"after",ref:j},[w("tr",[w("td",{style:{[k]:`${P.value}px`,...z},colspan:ce.value})])]):w(l,{class:"q-virtual-scroll__padding",key:"after",ref:j,style:{[k]:`${P.value}px`,...z}})]}function Y(l){c!==l&&(u.onVirtualScroll!==void 0&&A("virtualScroll",{index:l,from:O.value.from,to:O.value.to-1,direction:l<c?"decrease":"increase",ref:y}),c=l)}p();const Q=Tl(X,S.platform.is.ios===!0?120:35);Ml(()=>{p()});let Z=!1;return Il(()=>{Z=!0}),Ll(()=>{if(Z!==!0)return;const l=r();_!==void 0&&l!==void 0&&l!==null&&l.nodeType!==8?_t(l,_,u.virtualScrollHorizontal,S.lang.rtl):U(c)}),Ie(()=>{Q.cancel()}),Object.assign(y,{scrollTo:U,reset:G,refresh:te}),{virtualScrollSliceRange:O,virtualScrollSliceSizeComputed:g,setVirtualScrollSize:p,onVirtualScrollEvt:Q,localResetVirtualScroll:le,padVirtualScroll:re,scrollTo:U,reset:G,refresh:te}}const At=e=>["add","add-unique","toggle"].includes(e),on=".*+?^${}()|[]\\",an=Object.keys(lt);var fn=fe({name:"QSelect",inheritAttrs:!1,props:{...nn,...yl,...lt,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:At},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function},emits:[...Et,"add","remove","inputValue","newValue","keyup","keypress","keydown","filterAbort"],setup(e,{slots:r,emit:i}){const{proxy:m}=Ee(),{$q:V}=m,u=M(!1),A=M(!1),y=M(-1),S=M(""),_=M(!1),c=M(!1);let h=null,C=null,B,E,P,g=null,H,j,q,O;const ce=M(null),I=M(null),D=M(null),G=M(null),te=M(null),U=bl(e),X=wl(ht),K=d(()=>Array.isArray(e.options)?e.options.length:0),J=d(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:ae,virtualScrollSliceSizeComputed:le,localResetVirtualScroll:p,padVirtualScroll:re,onVirtualScrollEvt:Y,scrollTo:Q,setVirtualScrollSize:Z}=un({virtualScrollLength:K,getVirtualScrollTarget:Jt,getVirtualScrollEl:vt,virtualScrollItemSizeComputed:J}),l=zt(),a=d(()=>{const t=e.mapOptions===!0&&e.multiple!==!0,s=e.modelValue!==void 0&&(e.modelValue!==null||t===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const o=e.mapOptions===!0&&B!==void 0?B:[],x=s.map(T=>Gt(T,o));return e.modelValue===null&&t===!0?x.filter(T=>T!==null):x}return s}),k=d(()=>{const t={};return an.forEach(s=>{const o=e[s];o!==void 0&&(t[s]=o)}),t}),z=d(()=>e.optionsDark===null?l.isDark.value:e.optionsDark),f=d(()=>Ct(a.value)),v=d(()=>{let t="q-field__input q-placeholder col";return e.hideSelected===!0||a.value.length===0?[t,e.inputClass]:(t+=" q-field__input--padding",e.inputClass===void 0?t:[t,e.inputClass])}),b=d(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),L=d(()=>K.value===0),n=d(()=>a.value.map(t=>W.value(t)).join(", ")),$=d(()=>e.displayValue!==void 0?e.displayValue:n.value),ne=d(()=>e.optionsHtml===!0?()=>!0:t=>t!=null&&t.html===!0),be=d(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||a.value.some(ne.value))),ue=d(()=>l.focused.value===!0?e.tabindex:-1),Le=d(()=>{const t={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":u.value===!0?"true":"false","aria-controls":`${l.targetUid.value}_lb`};return y.value>=0&&(t["aria-activedescendant"]=`${l.targetUid.value}_${y.value}`),t}),ve=d(()=>({id:`${l.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),me=d(()=>a.value.map((t,s)=>({index:s,opt:t,html:ne.value(t),selected:!0,removeAtIndex:Yt,toggleOption:he,tabindex:ue.value}))),Re=d(()=>{if(K.value===0)return[];const{from:t,to:s}=ae.value;return e.options.slice(t,s).map((o,x)=>{const T=we.value(o)===!0,F=t+x,R={clickable:!0,active:!1,activeClass:ze.value,manualFocus:!0,focused:!1,disable:T,tabindex:-1,dense:e.optionsDense,dark:z.value,role:"option",id:`${l.targetUid.value}_${F}`,onClick:()=>{he(o)}};return T!==!0&&(Xe(o)===!0&&(R.active=!0),y.value===F&&(R.focused=!0),R["aria-selected"]=R.active===!0?"true":"false",V.platform.is.desktop===!0&&(R.onMousemove=()=>{u.value===!0&&ke(F)})),{index:F,opt:o,html:ne.value(o),label:W.value(o),selected:R.active,focused:R.focused,toggleOption:he,setOptionIndex:ke,itemProps:R}})}),Oe=d(()=>e.dropdownIcon!==void 0?e.dropdownIcon:V.iconSet.arrow.dropdown),Qe=d(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),ze=d(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),ie=d(()=>Ue(e.optionValue,"value")),W=d(()=>Ue(e.optionLabel,"label")),we=d(()=>Ue(e.optionDisable,"disable")),He=d(()=>a.value.map(t=>ie.value(t))),Xt=d(()=>{const t={onInput:ht,onChange:X,onKeydown:ft,onKeyup:ct,onKeypress:dt,onFocus:rt,onClick(s){E===!0&&Be(s)}};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=X,t});oe(a,t=>{B=t,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&l.innerLoading.value!==!0&&(A.value!==!0&&u.value!==!0||f.value!==!0)&&(P!==!0&&Ve(),(A.value===!0||u.value===!0)&&xe(""))},{immediate:!0}),oe(()=>e.fillInput,Ve),oe(u,Ye),oe(K,cl);function ot(t){return e.emitValue===!0?ie.value(t):t}function We(t){if(t>-1&&t<a.value.length)if(e.multiple===!0){const s=e.modelValue.slice();i("remove",{index:t,value:s.splice(t,1)[0]}),i("update:modelValue",s)}else i("update:modelValue",null)}function Yt(t){We(t),l.focus()}function at(t,s){const o=ot(t);if(e.multiple!==!0){e.fillInput===!0&&Fe(W.value(t),!0,!0),i("update:modelValue",o);return}if(a.value.length===0){i("add",{index:0,value:o}),i("update:modelValue",e.multiple===!0?[o]:o);return}if(s===!0&&Xe(t)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const x=e.modelValue.slice();i("add",{index:x.length,value:o}),x.push(o),i("update:modelValue",x)}function he(t,s){if(l.editable.value!==!0||t===void 0||we.value(t)===!0)return;const o=ie.value(t);if(e.multiple!==!0){s!==!0&&(Fe(e.fillInput===!0?W.value(t):"",!0,!0),ge()),I.value!==null&&I.value.focus(),(a.value.length===0||Te(ie.value(a.value[0]),o)!==!0)&&i("update:modelValue",e.emitValue===!0?o:t);return}if((E!==!0||_.value===!0)&&l.focus(),rt(),a.value.length===0){const F=e.emitValue===!0?o:t;i("add",{index:0,value:F}),i("update:modelValue",e.multiple===!0?[F]:F);return}const x=e.modelValue.slice(),T=He.value.findIndex(F=>Te(F,o));if(T>-1)i("remove",{index:T,value:x.splice(T,1)[0]});else{if(e.maxValues!==void 0&&x.length>=e.maxValues)return;const F=e.emitValue===!0?o:t;i("add",{index:x.length,value:F}),x.push(F)}i("update:modelValue",x)}function ke(t){if(V.platform.is.desktop!==!0)return;const s=t>-1&&t<K.value?t:-1;y.value!==s&&(y.value=s)}function Pe(t=1,s){if(u.value===!0){let o=y.value;do o=qt(o+t,-1,K.value-1);while(o!==-1&&o!==y.value&&we.value(e.options[o])===!0);y.value!==o&&(ke(o),Q(o),s!==!0&&e.useInput===!0&&e.fillInput===!0&&De(o>=0?W.value(e.options[o]):H,!0))}}function Gt(t,s){const o=x=>Te(ie.value(x),t);return e.options.find(o)||s.find(o)||t}function Ue(t,s){const o=t!==void 0?t:s;return typeof o=="function"?o:x=>x!==null&&typeof x=="object"&&o in x?x[o]:x}function Xe(t){const s=ie.value(t);return He.value.find(o=>Te(o,s))!==void 0}function rt(t){e.useInput===!0&&I.value!==null&&(t===void 0||I.value===t.target&&t.target.value===n.value)&&I.value.select()}function st(t){nt(t,27)===!0&&u.value===!0&&(Be(t),ge(),Ve()),i("keyup",t)}function ct(t){const{value:s}=t.target;if(t.keyCode!==void 0){st(t);return}if(t.target.value="",h!==null&&(clearTimeout(h),h=null),C!==null&&(clearTimeout(C),C=null),Ve(),typeof s=="string"&&s.length!==0){const o=s.toLocaleLowerCase(),x=F=>{const R=e.options.find(N=>F.value(N).toLocaleLowerCase()===o);return R===void 0?!1:(a.value.indexOf(R)===-1?he(R):ge(),!0)},T=F=>{x(ie)!==!0&&(x(W)===!0||F===!0||xe(s,!0,()=>T(!0)))};T()}else l.clearValue(t)}function dt(t){i("keypress",t)}function ft(t){if(i("keydown",t),Pl(t)===!0)return;const s=S.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),o=t.shiftKey!==!0&&e.multiple!==!0&&(y.value>-1||s===!0);if(t.keyCode===27){Je(t);return}if(t.keyCode===9&&o===!1){Ce();return}if(t.target===void 0||t.target.id!==l.targetUid.value||l.editable.value!==!0)return;if(t.keyCode===40&&l.innerLoading.value!==!0&&u.value===!1){se(t),qe();return}if(t.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&S.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?We(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&i("update:modelValue",null);return}(t.keyCode===35||t.keyCode===36)&&(typeof S.value!="string"||S.value.length===0)&&(se(t),y.value=-1,Pe(t.keyCode===36?1:-1,e.multiple)),(t.keyCode===33||t.keyCode===34)&&le.value!==void 0&&(se(t),y.value=Math.max(-1,Math.min(K.value,y.value+(t.keyCode===33?-1:1)*le.value.view)),Pe(t.keyCode===33?1:-1,e.multiple)),(t.keyCode===38||t.keyCode===40)&&(se(t),Pe(t.keyCode===38?-1:1,e.multiple));const x=K.value;if((q===void 0||O<Date.now())&&(q=""),x>0&&e.useInput!==!0&&t.key!==void 0&&t.key.length===1&&t.altKey===!1&&t.ctrlKey===!1&&t.metaKey===!1&&(t.keyCode!==32||q.length!==0)){u.value!==!0&&qe(t);const T=t.key.toLocaleLowerCase(),F=q.length===1&&q[0]===T;O=Date.now()+1500,F===!1&&(se(t),q+=T);const R=new RegExp("^"+q.split("").map(Ge=>on.indexOf(Ge)>-1?"\\"+Ge:Ge).join(".*"),"i");let N=y.value;if(F===!0||N<0||R.test(W.value(e.options[N]))!==!0)do N=qt(N+1,-1,x-1);while(N!==y.value&&(we.value(e.options[N])===!0||R.test(W.value(e.options[N]))!==!0));y.value!==N&&de(()=>{ke(N),Q(N),N>=0&&e.useInput===!0&&e.fillInput===!0&&De(W.value(e.options[N]),!0)});return}if(!(t.keyCode!==13&&(t.keyCode!==32||e.useInput===!0||q!=="")&&(t.keyCode!==9||o===!1))){if(t.keyCode!==9&&se(t),y.value>-1&&y.value<x){he(e.options[y.value]);return}if(s===!0){const T=(F,R)=>{if(R){if(At(R)!==!0)return}else R=e.newValueMode;if(Fe("",e.multiple!==!0,!0),F==null)return;(R==="toggle"?he:at)(F,R==="add-unique"),e.multiple!==!0&&(I.value!==null&&I.value.focus(),ge())};if(e.onNewValue!==void 0?i("newValue",S.value,T):T(S.value),e.multiple!==!0)return}u.value===!0?Ce():l.innerLoading.value!==!0&&qe()}}function vt(){return E===!0?te.value:D.value!==null&&D.value.contentEl!==null?D.value.contentEl:void 0}function Jt(){return vt()}function Zt(){return e.hideSelected===!0?[]:r["selected-item"]!==void 0?me.value.map(t=>r["selected-item"](t)).slice():r.selected!==void 0?[].concat(r.selected()):e.useChips===!0?me.value.map((t,s)=>w(Ul,{key:"option-"+s,removable:l.editable.value===!0&&we.value(t.opt)!==!0,dense:!0,textColor:e.color,tabindex:ue.value,onRemove(){t.removeAtIndex(s)}},()=>w("span",{class:"ellipsis",[t.html===!0?"innerHTML":"textContent"]:W.value(t.opt)}))):[w("span",{[be.value===!0?"innerHTML":"textContent"]:$.value})]}function mt(){if(L.value===!0)return r["no-option"]!==void 0?r["no-option"]({inputValue:S.value}):void 0;const t=r.option!==void 0?r.option:o=>w($l,{key:o.index,...o.itemProps},()=>w(jl,()=>w(Nl,()=>w("span",{[o.html===!0?"innerHTML":"textContent"]:o.label}))));let s=re("div",Re.value.map(t));return r["before-options"]!==void 0&&(s=r["before-options"]().concat(s)),Dl(r["after-options"],s)}function el(t,s){const o=s===!0?{...Le.value,...l.splitAttrs.attributes.value}:void 0,x={ref:s===!0?I:void 0,key:"i_t",class:v.value,style:e.inputStyle,value:S.value!==void 0?S.value:"",type:"search",...o,id:s===!0?l.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":t===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...Xt.value};return t!==!0&&E===!0&&(Array.isArray(x.class)===!0?x.class=[...x.class,"no-pointer-events"]:x.class+=" no-pointer-events"),w("input",x)}function ht(t){h!==null&&(clearTimeout(h),h=null),C!==null&&(clearTimeout(C),C=null),!(t&&t.target&&t.target.qComposing===!0)&&(De(t.target.value||""),P=!0,H=S.value,l.focused.value!==!0&&(E!==!0||_.value===!0)&&l.focus(),e.onFilter!==void 0&&(h=setTimeout(()=>{h=null,xe(S.value)},e.inputDebounce)))}function De(t,s){S.value!==t&&(S.value=t,s===!0||e.inputDebounce===0||e.inputDebounce==="0"?i("inputValue",t):C=setTimeout(()=>{C=null,i("inputValue",t)},e.inputDebounce))}function Fe(t,s,o){P=o!==!0,e.useInput===!0&&(De(t,!0),(s===!0||o!==!0)&&(H=t),s!==!0&&xe(t))}function xe(t,s,o){if(e.onFilter===void 0||s!==!0&&l.focused.value!==!0)return;l.innerLoading.value===!0?i("filterAbort"):(l.innerLoading.value=!0,c.value=!0),t!==""&&e.multiple!==!0&&a.value.length!==0&&P!==!0&&t===W.value(a.value[0])&&(t="");const x=setTimeout(()=>{u.value===!0&&(u.value=!1)},10);g!==null&&clearTimeout(g),g=x,i("filter",t,(T,F)=>{(s===!0||l.focused.value===!0)&&g===x&&(clearTimeout(g),typeof T=="function"&&T(),c.value=!1,de(()=>{l.innerLoading.value=!1,l.editable.value===!0&&(s===!0?u.value===!0&&ge():u.value===!0?Ye(!0):u.value=!0),typeof F=="function"&&de(()=>{F(m)}),typeof o=="function"&&de(()=>{o(m)})}))},()=>{l.focused.value===!0&&g===x&&(clearTimeout(g),l.innerLoading.value=!1,c.value=!1),u.value===!0&&(u.value=!1)})}function tl(){return w(Jl,{ref:D,class:b.value,style:e.popupContentStyle,modelValue:u.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&L.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:z.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,square:Qe.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...ve.value,onScrollPassive:Y,onBeforeShow:St,onBeforeHide:ll,onShow:nl},mt)}function ll(t){yt(t),Ce()}function nl(){Z()}function ul(t){Be(t),I.value!==null&&I.value.focus(),_.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function il(t){Be(t),de(()=>{_.value=!1})}function ol(){const t=[w(Ql,{class:`col-auto ${l.fieldClass.value}`,...k.value,for:l.targetUid.value,dark:z.value,square:!0,loading:c.value,itemAligned:!1,filled:!0,stackLabel:S.value.length!==0,...l.splitAttrs.listeners.value,onFocus:ul,onBlur:il},{...r,rawControl:()=>l.getControl(!0),before:void 0,after:void 0})];return u.value===!0&&t.push(w("div",{ref:te,class:b.value+" scroll",style:e.popupContentStyle,...ve.value,onClick:Je,onScrollPassive:Y},mt())),w(en,{ref:G,modelValue:A.value,position:e.useInput===!0?"top":void 0,transitionShow:j,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:St,onBeforeHide:al,onHide:rl,onShow:sl},()=>w("div",{class:"q-select__dialog"+(z.value===!0?" q-select__dialog--dark q-dark":"")+(_.value===!0?" q-select__dialog--focused":"")},t))}function al(t){yt(t),G.value!==null&&G.value.__updateRefocusTarget(l.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),l.focused.value=!1}function rl(t){ge(),l.focused.value===!1&&i("blur",t),Ve()}function sl(){const t=document.activeElement;(t===null||t.id!==l.targetUid.value)&&I.value!==null&&I.value!==t&&I.value.focus(),Z()}function Ce(){A.value!==!0&&(y.value=-1,u.value===!0&&(u.value=!1),l.focused.value===!1&&(g!==null&&(clearTimeout(g),g=null),l.innerLoading.value===!0&&(i("filterAbort"),l.innerLoading.value=!1,c.value=!1)))}function qe(t){l.editable.value===!0&&(E===!0?(l.onControlFocusin(t),A.value=!0,de(()=>{l.focus()})):l.focus(),e.onFilter!==void 0?xe(S.value):(L.value!==!0||r["no-option"]!==void 0)&&(u.value=!0))}function ge(){A.value=!1,Ce()}function Ve(){e.useInput===!0&&Fe(e.multiple!==!0&&e.fillInput===!0&&a.value.length!==0&&W.value(a.value[0])||"",!0,!0)}function Ye(t){let s=-1;if(t===!0){if(a.value.length!==0){const o=ie.value(a.value[0]);s=e.options.findIndex(x=>Te(ie.value(x),o))}p(s)}ke(s)}function cl(t,s){u.value===!0&&l.innerLoading.value===!1&&(p(-1,!0),de(()=>{u.value===!0&&l.innerLoading.value===!1&&(t>s?p():Ye(!0))}))}function gt(){A.value===!1&&D.value!==null&&D.value.updatePosition()}function St(t){t!==void 0&&Be(t),i("popupShow",t),l.hasPopupOpen=!0,l.onControlFocusin(t)}function yt(t){t!==void 0&&Be(t),i("popupHide",t),l.hasPopupOpen=!1,l.onControlFocusout(t)}function bt(){E=V.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?r["no-option"]!==void 0||e.onFilter!==void 0||L.value===!1:!0),j=V.platform.is.ios===!0&&E===!0&&e.useInput===!0?"fade":e.transitionShow}return Rl(bt),Hl(gt),bt(),Ie(()=>{h!==null&&clearTimeout(h),C!==null&&clearTimeout(C)}),Object.assign(m,{showPopup:qe,hidePopup:ge,removeAtIndex:We,add:at,toggleOption:he,getOptionIndex:()=>y.value,setOptionIndex:ke,moveOptionSelection:Pe,filter:xe,updateMenuPosition:gt,updateInputValue:Fe,isOptionSelected:Xe,getEmittingOptionValue:ot,isOptionDisabled:(...t)=>we.value.apply(null,t)===!0,getOptionValue:(...t)=>ie.value.apply(null,t),getOptionLabel:(...t)=>W.value.apply(null,t)}),Object.assign(l,{innerValue:a,fieldClass:d(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:ce,targetRef:I,hasValue:f,showPopup:qe,floatingLabel:d(()=>e.hideSelected!==!0&&f.value===!0||typeof S.value=="number"||S.value.length!==0||Ct(e.displayValue)),getControlChild:()=>{if(l.editable.value!==!1&&(A.value===!0||L.value!==!0||r["no-option"]!==void 0))return E===!0?ol():tl();l.hasPopupOpen===!0&&(l.hasPopupOpen=!1)},controlEvents:{onFocusin(t){l.onControlFocusin(t)},onFocusout(t){l.onControlFocusout(t,()=>{Ve(),Ce()})},onClick(t){if(Je(t),E!==!0&&u.value===!0){Ce(),I.value!==null&&I.value.focus();return}qe(t)}},getControl:t=>{const s=Zt(),o=t===!0||A.value!==!0||E!==!0;if(e.useInput===!0)s.push(el(t,o));else if(l.editable.value===!0){const T=o===!0?Le.value:void 0;s.push(w("input",{ref:o===!0?I:void 0,key:"d_t",class:"q-select__focus-target",id:o===!0?l.targetUid.value:void 0,value:$.value,readonly:!0,"data-autofocus":t===!0||e.autofocus===!0||void 0,...T,onKeydown:ft,onKeyup:st,onKeypress:dt})),o===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&s.push(w("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:ct}))}if(U.value!==void 0&&e.disable!==!0&&He.value.length!==0){const T=He.value.map(F=>w("option",{value:F,selected:!0}));s.push(w("select",{class:"hidden",name:U.value,multiple:e.multiple},T))}const x=e.useInput===!0||o!==!0?void 0:l.splitAttrs.attributes.value;return w("div",{class:"q-field__native row items-center",...x,...l.splitAttrs.listeners.value},s)},getInnerAppend:()=>e.loading!==!0&&c.value!==!0&&e.hideDropdownIcon!==!0?[w(Ke,{class:"q-select__dropdown-icon"+(u.value===!0?" rotate-180":""),name:Oe.value})]:null}),Ot(l)}});export{en as Q,Kl as a,$l as b,Nl as c,jl as d,fn as e,nn as f,un as g,dn as h,$e as r,pl as u};
